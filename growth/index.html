<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>ì„±ì¥ í¬ì¸íŠ¸ ì¡°íšŒ | ê³„ëª…íƒœê¶Œë„</title>
  <meta name="description" content="ê³„ëª…íƒœê¶Œë„ ì„±ì¥ í¬ì¸íŠ¸ ì¡°íšŒ. ëˆ„ì  í¬ì¸íŠ¸, ë“±ê¸‰, ë„ë³µ ëª©í‘œ ì§„í–‰ë¥ ì„ í•œ ë²ˆì— í™•ì¸í•˜ì„¸ìš”." />
  <meta name="theme-color" content="#0b0f19" />

  <!-- OG (ì¹´í†¡ ê³µìœ ìš©) -->
  <meta property="og:type" content="website" />
  <meta property="og:title" content="ê³„ëª…íƒœê¶Œë„ | ì„±ì¥ í¬ì¸íŠ¸ ì¡°íšŒ" />
  <meta property="og:description" content="ëˆ„ì  í¬ì¸íŠ¸Â·ë“±ê¸‰Â·ë„ë³µ ëª©í‘œ ì§„í–‰ë¥ ì„ í•œ ë²ˆì— í™•ì¸í•˜ì„¸ìš”." />
  <!-- âœ… í•„ìš” ì‹œ OG ì´ë¯¸ì§€ ë„£ê¸°: ì•„ë˜ contentì— ì´ë¯¸ì§€ URL -->
  <meta property="og:image" content="" />

  <style>
    :root{
      --bg:#070a12;
      --panel:#0b1020;
      --panel2:#0d1530;
      --line:rgba(255,255,255,.10);
      --line2:rgba(255,255,255,.14);
      --text:rgba(255,255,255,.92);
      --muted:rgba(255,255,255,.70);
      --muted2:rgba(255,255,255,.58);
      --gold:#f5c45a;
      --blue:#49a6ff;
      --blue2:#2d6bff;
      --ok:#34d399;
      --warn:#fbbf24;
      --bad:#fb7185;
      --shadow: 0 20px 60px rgba(0,0,0,.45);
      --r:22px;
      --r2:16px;
      --max:1120px;
      --font: system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans KR", "Apple SD Gothic Neo", "Malgun Gothic", sans-serif;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:var(--font);
      color:var(--text);
      background:
        radial-gradient(900px 520px at 18% 10%, rgba(73,166,255,.18), transparent 55%),
        radial-gradient(900px 520px at 82% 18%, rgba(245,196,90,.14), transparent 55%),
        radial-gradient(900px 520px at 60% 92%, rgba(45,107,255,.12), transparent 55%),
        linear-gradient(180deg, #060911 0%, #070a12 55%, #050713 100%);
      overflow-x:hidden;
    }
    a{color:inherit; text-decoration:none}
    .wrap{max-width:var(--max); margin:0 auto; padding:18px 16px 60px}
    .topbar{
      position:sticky; top:0; z-index:50;
      backdrop-filter:saturate(1.2) blur(10px);
      background:linear-gradient(180deg, rgba(7,10,18,.88), rgba(7,10,18,.55));
      border-bottom:1px solid rgba(255,255,255,.08);
    }
    .topbar .wrap{padding:14px 16px}
    .row{display:flex; gap:12px; align-items:center; justify-content:space-between; flex-wrap:wrap}
    .brand{
      display:flex; align-items:center; gap:12px; min-width:260px;
    }
    .badge{
      width:42px; height:42px; border-radius:14px;
      background:
        radial-gradient(18px 18px at 30% 30%, rgba(245,196,90,.65), transparent 60%),
        radial-gradient(22px 22px at 70% 70%, rgba(73,166,255,.55), transparent 60%),
        linear-gradient(135deg, rgba(255,255,255,.10), rgba(255,255,255,.04));
      border:1px solid rgba(255,255,255,.14);
      box-shadow: 0 16px 40px rgba(0,0,0,.35);
      position:relative;
      overflow:hidden;
    }
    .badge:before{
      content:"";
      position:absolute; inset:-40px;
      background:conic-gradient(from 180deg, rgba(73,166,255,.0), rgba(73,166,255,.22), rgba(245,196,90,.22), rgba(73,166,255,.0));
      animation:spin 8s linear infinite;
      opacity:.9;
    }
    @keyframes spin{to{transform:rotate(360deg)}}
    .brand h1{margin:0; font-size:15px; letter-spacing:.2px}
    .brand .sub{margin:2px 0 0; font-size:12px; color:var(--muted2)}
    .actions{display:flex; gap:10px; align-items:center; flex-wrap:wrap}
    .btn{
      display:inline-flex; align-items:center; justify-content:center; gap:8px;
      padding:10px 12px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,.14);
      background:linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.04));
      box-shadow: 0 10px 26px rgba(0,0,0,.28);
      color:var(--text);
      font-weight:700;
      font-size:13px;
      cursor:pointer;
      user-select:none;
      transition:transform .12s ease, border-color .12s ease, background .12s ease;
      white-space:nowrap;
    }
    .btn:hover{transform:translateY(-1px); border-color:rgba(255,255,255,.22)}
    .btn:active{transform:translateY(0px)}
    .btn.primary{
      border-color: rgba(73,166,255,.45);
      background: linear-gradient(180deg, rgba(73,166,255,.22), rgba(73,166,255,.10));
    }
    .btn.gold{
      border-color: rgba(245,196,90,.45);
      background: linear-gradient(180deg, rgba(245,196,90,.22), rgba(245,196,90,.10));
    }
    .btn.ghost{
      background:transparent;
      box-shadow:none;
    }
    .chip{
      display:inline-flex; align-items:center; gap:8px;
      padding:8px 10px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.12);
      background:rgba(255,255,255,.05);
      color:var(--muted);
      font-size:12px;
      white-space:nowrap;
    }
    .chip b{color:var(--text)}
    .hero{
      padding:18px 0 0;
    }
    .grid{
      display:grid;
      grid-template-columns: 1.05fr .95fr;
      gap:14px;
      margin-top:14px;
    }
    @media (max-width: 980px){
      .grid{grid-template-columns:1fr}
      .brand{min-width:unset}
    }
    .card{
      background: linear-gradient(180deg, rgba(255,255,255,.07), rgba(255,255,255,.035));
      border:1px solid rgba(255,255,255,.12);
      border-radius: var(--r);
      box-shadow: var(--shadow);
      overflow:hidden;
      position:relative;
    }
    .card .hd{
      padding:16px 16px 10px;
      border-bottom:1px solid rgba(255,255,255,.08);
      display:flex; align-items:flex-start; justify-content:space-between; gap:10px;
      flex-wrap:wrap;
    }
    .card .hd .t{
      margin:0;
      font-size:16px;
      letter-spacing:.2px;
    }
    .card .hd .d{
      margin:6px 0 0;
      font-size:12.5px;
      color:var(--muted2);
      line-height:1.5;
      max-width:720px;
    }
    .card .bd{padding:14px 16px 16px}
    .hint{
      margin:8px 0 0;
      font-size:12px;
      color:var(--muted2);
      line-height:1.55;
    }

    /* Search UI */
    .tabs{
      display:flex; gap:10px; flex-wrap:wrap;
      margin:10px 0 0;
    }
    .tab{
      padding:10px 12px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.04);
      color: var(--muted);
      font-weight:800;
      font-size:13px;
      cursor:pointer;
      user-select:none;
      transition:transform .12s ease, border-color .12s ease, background .12s ease;
    }
    .tab:hover{transform:translateY(-1px); border-color:rgba(255,255,255,.2)}
    .tab.active{
      color: var(--text);
      border-color: rgba(73,166,255,.45);
      background: linear-gradient(180deg, rgba(73,166,255,.18), rgba(73,166,255,.08));
    }
    .field{
      margin-top:12px;
      display:grid;
      grid-template-columns: 1fr;
      gap:10px;
    }
    .row2{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:10px;
    }
    @media (max-width:720px){
      .row2{grid-template-columns:1fr}
    }
    .inwrap{
      position:relative;
    }
    input{
      width:100%;
      padding:14px 44px 14px 14px;
      border-radius: 16px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(6,10,20,.55);
      color: var(--text);
      outline:none;
      font-size:14px;
      box-shadow: inset 0 0 0 1px rgba(0,0,0,.25);
      transition:border-color .12s ease, transform .12s ease, background .12s ease;
    }
    input:focus{
      border-color: rgba(73,166,255,.48);
      background: rgba(6,10,20,.75);
    }
    .clear{
      position:absolute;
      right:10px; top:50%; transform:translateY(-50%);
      width:32px; height:32px;
      border-radius: 12px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.06);
      color:rgba(255,255,255,.85);
      display:flex; align-items:center; justify-content:center;
      cursor:pointer;
      opacity:0;
      pointer-events:none;
      transition:opacity .12s ease, transform .12s ease;
    }
    .clear:hover{transform:translateY(-50%) scale(1.03)}
    .inwrap.hasValue .clear{opacity:1; pointer-events:auto}

    .ctaRow{
      display:flex; gap:10px; flex-wrap:wrap; margin-top:12px;
    }
    .msg{
      margin-top:12px;
      padding:12px 12px;
      border-radius: 16px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.05);
      color: var(--muted);
      font-size:13px;
      line-height:1.55;
    }
    .msg.good{border-color: rgba(52,211,153,.35); background: rgba(52,211,153,.08); color: rgba(255,255,255,.88)}
    .msg.bad{border-color: rgba(251,113,133,.35); background: rgba(251,113,133,.08); color: rgba(255,255,255,.88)}

    /* Result */
    .result{
      display:none;
      margin-top:14px;
      border-radius: var(--r);
      border:1px solid rgba(255,255,255,.12);
      background: linear-gradient(180deg, rgba(11,16,32,.62), rgba(11,16,32,.42));
      overflow:hidden;
    }
    .result.show{display:block}
    .resTop{
      padding:14px 14px 12px;
      border-bottom:1px solid rgba(255,255,255,.08);
      display:flex; align-items:flex-start; justify-content:space-between; gap:10px; flex-wrap:wrap;
    }
    .name{
      font-size:18px;
      font-weight:900;
      letter-spacing:.2px;
      margin:0;
    }
    .meta{
      margin:6px 0 0;
      color: var(--muted2);
      font-size:12.5px;
      line-height:1.5;
    }
    .pillRow{display:flex; gap:8px; flex-wrap:wrap; align-items:center; justify-content:flex-end}
    .pill{
      display:inline-flex; align-items:center; gap:8px;
      padding:8px 10px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.05);
      font-size:12px;
      color: var(--muted);
      white-space:nowrap;
    }
    .pill b{color:var(--text)}
    .pill.gold{border-color:rgba(245,196,90,.35); background:rgba(245,196,90,.10)}
    .pill.blue{border-color:rgba(73,166,255,.35); background:rgba(73,166,255,.10)}
    .pill.ok{border-color:rgba(52,211,153,.35); background:rgba(52,211,153,.10)}
    .pill.warn{border-color:rgba(251,191,36,.35); background:rgba(251,191,36,.10)}

    .resBody{padding:14px}
    .stats{
      display:grid;
      grid-template-columns: 1.1fr .9fr;
      gap:12px;
      align-items:stretch;
    }
    @media (max-width:900px){
      .stats{grid-template-columns:1fr}
    }
    .panel{
      border-radius: var(--r2);
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.04);
      padding:14px;
    }
    .kpiRow{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:10px;
    }
    @media (max-width:520px){
      .kpiRow{grid-template-columns:1fr}
    }
    .kpi{
      border-radius: 16px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(0,0,0,.18);
      padding:12px 12px;
    }
    .kpi .l{font-size:12px; color:var(--muted2); margin:0}
    .kpi .v{font-size:20px; font-weight:900; margin:6px 0 0}
    .kpi .v small{font-size:12px; color:var(--muted2); font-weight:800}
    .barWrap{margin-top:12px}
    .barTop{
      display:flex; align-items:center; justify-content:space-between; gap:10px;
      font-size:12.5px; color: var(--muted2);
    }
    .bar{
      margin-top:8px;
      height:14px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.22);
      overflow:hidden;
      position:relative;
    }
    .bar > i{
      display:block; height:100%;
      width:0%;
      border-radius:999px;
      background: linear-gradient(90deg, rgba(73,166,255,.95), rgba(245,196,90,.92));
      box-shadow: 0 10px 30px rgba(73,166,255,.15);
      transition: width .6s cubic-bezier(.2,.9,.2,1);
    }
    .milestones{
      margin-top:12px;
      display:grid;
      grid-template-columns:1fr;
      gap:10px;
    }
    .ms{
      border-radius: 16px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(0,0,0,.18);
      padding:12px;
      display:flex; align-items:center; justify-content:space-between; gap:10px; flex-wrap:wrap;
    }
    .ms .left{display:flex; flex-direction:column; gap:4px}
    .ms .t{font-weight:900}
    .ms .s{font-size:12px; color:var(--muted2)}
    .ms .right{display:flex; gap:8px; align-items:center; flex-wrap:wrap}
    .tag{
      padding:6px 10px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.05);
      font-size:12px;
      color:var(--muted);
      white-space:nowrap;
    }
    .tag.done{border-color:rgba(52,211,153,.35); background:rgba(52,211,153,.10); color:rgba(255,255,255,.88)}
    .tag.next{border-color:rgba(73,166,255,.35); background:rgba(73,166,255,.10); color:rgba(255,255,255,.88)}
    .tag.lock{border-color:rgba(255,255,255,.10); background:rgba(255,255,255,.04)}

    /* Quick links */
    .links{
      display:grid;
      grid-template-columns: repeat(2, 1fr);
      gap:10px;
      margin-top:12px;
    }
    @media (max-width:620px){
      .links{grid-template-columns:1fr}
    }
    .linkCard{
      border-radius: 18px;
      border:1px solid rgba(255,255,255,.12);
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
      padding:12px 12px;
      display:flex; align-items:flex-start; justify-content:space-between; gap:10px;
      transition: transform .12s ease, border-color .12s ease;
    }
    .linkCard:hover{transform: translateY(-1px); border-color: rgba(255,255,255,.20)}
    .linkCard .tt{font-weight:900; margin:0; font-size:14px}
    .linkCard .dd{margin:6px 0 0; font-size:12px; color:var(--muted2); line-height:1.5}
    .arrow{opacity:.8}

    .foot{
      margin-top:16px;
      padding:14px 16px;
      border-radius: 18px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.04);
      color: var(--muted2);
      font-size:12px;
      line-height:1.6;
    }
    .smallnote{font-size:12px; color:var(--muted2); margin-top:10px}
    .sep{height:1px; background:rgba(255,255,255,.08); margin:14px 0}

    /* Reduce motion */
    @media (prefers-reduced-motion: reduce){
      *{transition:none !important; animation:none !important}
    }
  </style>
</head>

<body>
  <!-- âœ… ìƒë‹¨ ê³ ì • ë°” -->
  <div class="topbar">
    <div class="wrap">
      <div class="row">
        <div class="brand">
          <div class="badge" aria-hidden="true"></div>
          <div>
            <h1>ì„±ì¥ í¬ì¸íŠ¸ ì¡°íšŒ</h1>
            <div class="sub">ëˆ„ì  í¬ì¸íŠ¸ Â· ë“±ê¸‰ Â· ë„ë³µ ëª©í‘œ ì§„í–‰ë¥ </div>
          </div>
        </div>

        <div class="actions">
          <!-- âœ… CHANGE ZONE: í™ˆ ë²„íŠ¼ ë§í¬(ì‚¬ì´íŠ¸ ë£¨íŠ¸) -->
          <a class="btn" href="../index.html" title="í™ˆìœ¼ë¡œ">ğŸ  í™ˆìœ¼ë¡œ</a>

          <!-- âœ… CHANGE ZONE: ì—„ë§ˆ ë¯¸ì…˜(êµ¬ê¸€í¼) ë§í¬ë¥¼ ì‹¤ì œ URLë¡œ êµì²´í•˜ì„¸ìš” -->
          <a class="btn gold" id="momFormBtn" href="#" target="_blank" rel="noopener" title="êµ¬ê¸€í¼ìœ¼ë¡œ ë¯¸ì…˜ ì¸ì¦ ë³´ë‚´ê¸°">ğŸ“ ì—„ë§ˆ ë¯¸ì…˜ ì¸ì¦</a>

          <span class="chip" title="ë°ì´í„° ê°±ì‹  ì‹œê°">
            â± ìµœì‹  ë°ì´í„° <b id="lastUpdated">í™•ì¸ì¤‘â€¦</b>
          </span>
        </div>
      </div>
    </div>
  </div>

  <main class="wrap hero">
    <div class="grid">
      <!-- LEFT: ì¡°íšŒ -->
      <section class="card" aria-label="ì¡°íšŒ">
        <div class="hd">
          <div>
            <h2 class="t">ë‚´ ì•„ì´ í¬ì¸íŠ¸ ì¡°íšŒ</h2>
            <p class="d">
              ì¡°íšŒëŠ” <b>ì•„ì´ë””</b> ë˜ëŠ” <b>ì´ë¦„ + ìƒë…„ì›”ì¼</b>ë¡œ ê°€ëŠ¥í•©ë‹ˆë‹¤.
              (ë‹¤ë¥¸ ì‚¬ëŒ ì •ë³´ëŠ” ë³´ì´ì§€ ì•Šë„ë¡, ì •í™•íˆ ì¼ì¹˜í•  ë•Œë§Œ ê²°ê³¼ê°€ í‘œì‹œë©ë‹ˆë‹¤.)
            </p>
            <div class="hint">â€» ì…ë ¥í•œ ì •ë³´ëŠ” ì´ í˜ì´ì§€ ì•ˆì—ì„œë§Œ ì²˜ë¦¬ë˜ë©°, ë³„ë„ë¡œ ì €ì¥ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</div>
          </div>
          <div class="pillRow">
            <span class="pill blue"><b>ëª©í‘œ</b> ë§¤ 30,000ì  ë„ë³µ ë‹¨ê³„ ìƒìŠ¹</span>
            <span class="pill"><b>ë°©ì‹</b> ëˆ„ì  í™•ì¥í˜• (ì´ˆê¸°í™” ì—†ìŒ)</span>
          </div>
        </div>

        <div class="bd">
          <div class="tabs" role="tablist" aria-label="ì¡°íšŒ ë°©ì‹">
            <div class="tab active" id="tabId" role="tab" aria-selected="true" tabindex="0">ì•„ì´ë””ë¡œ ì¡°íšŒ</div>
            <div class="tab" id="tabNameDob" role="tab" aria-selected="false" tabindex="0">ì´ë¦„ + ìƒë…„ì›”ì¼ë¡œ ì¡°íšŒ</div>
          </div>

          <div class="field" id="modeId">
            <div class="inwrap" id="wrapId">
              <input id="inputId" inputmode="text" autocomplete="off" spellcheck="false"
                     placeholder="ì˜ˆ) KM002 / km002 (ëŒ€ì†Œë¬¸ì ë¬´ê´€)" />
              <div class="clear" data-clear="inputId" title="ì§€ìš°ê¸°">âœ•</div>
            </div>
          </div>

          <div class="field" id="modeNameDob" style="display:none">
            <div class="row2">
              <div class="inwrap" id="wrapName">
                <input id="inputName" autocomplete="off" spellcheck="false" placeholder="ì´ë¦„ (ì˜ˆ: í™ê¸¸ë™)" />
                <div class="clear" data-clear="inputName" title="ì§€ìš°ê¸°">âœ•</div>
              </div>
              <div class="inwrap" id="wrapDob">
                <input id="inputDob" inputmode="numeric" autocomplete="off" spellcheck="false" placeholder="ìƒë…„ì›”ì¼ 8ìë¦¬ (ì˜ˆ: 20170123)" />
                <div class="clear" data-clear="inputDob" title="ì§€ìš°ê¸°">âœ•</div>
              </div>
            </div>
          </div>

          <div class="ctaRow">
            <button class="btn primary" id="btnSearch" type="button">ğŸ” ì¡°íšŒí•˜ê¸°</button>
            <button class="btn" id="btnReset" type="button">â†º ì…ë ¥ ì´ˆê¸°í™”</button>
            <a class="btn ghost" href="./items/" title="í¬ì¸íŠ¸ í•­ëª©/ì ìˆ˜ ì•ˆë‚´">í¬ì¸íŠ¸ í•­ëª© ë³´ê¸° â†’</a>
          </div>

          <div class="msg" id="statusMsg">
            ì¡°íšŒê°€ ì•ˆ ë  ë•ŒëŠ” <b>ì•„ì´ë””</b> ë˜ëŠ” <b>ì´ë¦„ + ìƒë…„ì›”ì¼</b>ì´ ì •í™•í•œì§€ í™•ì¸í•´ì£¼ì„¸ìš”.
          </div>

          <!-- RESULT -->
          <div class="result" id="result">
            <div class="resTop">
              <div>
                <p class="name" id="resName">-</p>
                <div class="meta" id="resMeta">-</div>
              </div>
              <div class="pillRow">
                <span class="pill blue"><b>í˜„ì¬ ë“±ê¸‰</b> <span id="resRank">-</span></span>
                <span class="pill gold"><b>ëˆ„ì </b> <span id="resTotal">-</span>ì </span>
                <span class="pill ok"><b>ì—°ì† ë‹¬ì„±</b> <span id="resStreak">-</span>íšŒ</span>
              </div>
            </div>

            <div class="resBody">
              <div class="stats">
                <div class="panel">
                  <div class="kpiRow">
                    <div class="kpi">
                      <p class="l">ë‹¤ìŒ ëª©í‘œ(ë„ë³µ ë‹¨ê³„)</p>
                      <p class="v" id="nextGoal">-</p>
                    </div>
                    <div class="kpi">
                      <p class="l">ë‚¨ì€ ì ìˆ˜</p>
                      <p class="v" id="remain">-</p>
                    </div>
                  </div>

                  <div class="barWrap">
                    <div class="barTop">
                      <span id="barLabel">ì§„í–‰ë¥ </span>
                      <span><b id="barPct">0%</b></span>
                    </div>
                    <div class="bar" aria-label="ì§„í–‰ë¥  ë°”"><i id="barFill"></i></div>
                    <div class="smallnote" id="barNote">-</div>
                  </div>

                  <div class="milestones" aria-label="ë„ë³µ ë‹¨ê³„">
                    <div class="ms">
                      <div class="left">
                        <div class="t">1ë‹¨ê³„ Â· ì¼ë°˜ ë„ë³µ</div>
                        <div class="s">ëˆ„ì  30,000ì  ë‹¬ì„± ì‹œ</div>
                      </div>
                      <div class="right">
                        <span class="tag" id="m1Tag">ë¯¸ë‹¬ì„±</span>
                        <span class="tag">30,000ì›</span>
                      </div>
                    </div>

                    <div class="ms">
                      <div class="left">
                        <div class="t">2ë‹¨ê³„ Â· ìœ ë‹¨ì ë„ë³µ</div>
                        <div class="s">ëˆ„ì  60,000ì  ë‹¬ì„± ì‹œ</div>
                      </div>
                      <div class="right">
                        <span class="tag" id="m2Tag">ë¯¸ë‹¬ì„±</span>
                        <span class="tag">40,000ì›</span>
                      </div>
                    </div>

                    <div class="ms">
                      <div class="left">
                        <div class="t">3ë‹¨ê³„ Â· ê³ ë‹¨ì ë„ë³µ(ì–´ê¹¨ ì‚¼ì„ )</div>
                        <div class="s">ëˆ„ì  90,000ì  ë‹¬ì„± ì‹œ</div>
                      </div>
                      <div class="right">
                        <span class="tag" id="m3Tag">ë¯¸ë‹¬ì„±</span>
                        <span class="tag">45,000ì›</span>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="panel">
                  <div style="display:flex; align-items:flex-start; justify-content:space-between; gap:10px; flex-wrap:wrap;">
                    <div>
                      <div style="font-weight:900; font-size:14px;">ë°”ë¡œê°€ê¸°</div>
                      <div class="smallnote">ê·œì •Â·í•­ëª©Â·ë“±ê¸‰ ì•ˆë‚´ë¥¼ í•œ ë²ˆì— í™•ì¸í•˜ì„¸ìš”.</div>
                    </div>
                    <a class="btn" href="./guide/">ğŸ“Œ ìš´ì˜ ì•ˆë‚´</a>
                  </div>

                  <div class="links">
                    <a class="linkCard" href="./items/">
                      <div>
                        <p class="tt">í¬ì¸íŠ¸ í•­ëª© / ì ìˆ˜</p>
                        <p class="dd">í‰ìƒì‹œÂ·íŠ¹ë³„ë¯¸ì…˜ í•­ëª©ê³¼ ì§€ê¸‰ ê¸°ì¤€ì„ í™•ì¸í•©ë‹ˆë‹¤.</p>
                      </div>
                      <div class="arrow">â†—</div>
                    </a>

                    <a class="linkCard" href="./rank/">
                      <div>
                        <p class="tt">ë“±ê¸‰ ì²´ê³„(ì›¹ í‘œì‹œ)</p>
                        <p class="dd">ëˆ„ì  í™•ì¥í˜• ë“±ê¸‰ ê¸°ì¤€ê³¼ ì˜ë¯¸ë¥¼ í™•ì¸í•©ë‹ˆë‹¤.</p>
                      </div>
                      <div class="arrow">â†—</div>
                    </a>

                    <a class="linkCard" href="./rules/">
                      <div>
                        <p class="tt">ê³µì‹ ìš´ì˜ ê·œì •</p>
                        <p class="dd">ëŒ€ìƒ ê¸°ì¤€Â·ì§€ê¸‰ ì¡°ê±´Â·ìœ ë³´ ê¸°ì¤€ì„ í™•ì¸í•©ë‹ˆë‹¤.</p>
                      </div>
                      <div class="arrow">â†—</div>
                    </a>

                    <a class="linkCard" href="#" id="momFormCard" target="_blank" rel="noopener">
                      <div>
                        <p class="tt">ì—„ë§ˆ ë¯¸ì…˜ ì¸ì¦(êµ¬ê¸€í¼)</p>
                        <p class="dd">íš¨ë„Â·ìƒí™œ ë¯¸ì…˜ ì¸ì¦ì„ ì œì¶œí•©ë‹ˆë‹¤.</p>
                      </div>
                      <div class="arrow">â†—</div>
                    </a>
                  </div>

                  <div class="sep"></div>

                  <div class="foot">
                    <b style="color:rgba(255,255,255,.92)">ì•ˆë‚´</b><br/>
                    â€¢ í¬ì¸íŠ¸ëŠ” <b>ëˆ„ì í˜•</b>ì´ë©° ì´ˆê¸°í™”ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.<br/>
                    â€¢ ë„ë³µ ë‹¨ê³„ëŠ” <b>ëˆ„ì  30,000ì  ë‹¨ìœ„</b>ë¡œ ìƒìŠ¹í•©ë‹ˆë‹¤.<br/>
                    â€¢ ì¡°íšŒ ê²°ê³¼ëŠ” í•´ë‹¹ ì •ë³´ê°€ ì •í™•íˆ ì¼ì¹˜í•  ë•Œë§Œ í‘œì‹œë©ë‹ˆë‹¤.
                  </div>
                </div>
              </div>
            </div>
          </div><!-- /result -->

        </div>
      </section>

      <!-- RIGHT: ì˜¤ëŠ˜ì˜ ì•ˆë‚´ + ë¯¸ì…˜ ë²„íŠ¼ ê°•ì¡° -->
      <aside class="card" aria-label="ì˜¤ëŠ˜ì˜ ì•ˆë‚´">
        <div class="hd">
          <div>
            <h2 class="t">í•™ë¶€ëª¨ë‹˜ì„ ìœ„í•œ í•œëˆˆì— ì•ˆë‚´</h2>
            <p class="d">
              ì´ í˜ì´ì§€ëŠ” <b>ë§¤ì¼ í™•ì¸í•˜ê¸° í¸í•˜ë„ë¡</b> ë§Œë“¤ì–´ì¡ŒìŠµë‹ˆë‹¤.
              í¬ì¸íŠ¸ëŠ” ì•„ì´ì˜ ì„±ì‹¤í•¨ê³¼ ì„±ì¥ ê¸°ë¡ì´ë©°, ë„ë³µì€ 1ë…„ ì„±ì¥ì˜ ì¦í‘œì…ë‹ˆë‹¤.
            </p>
          </div>
          <div class="pillRow">
            <span class="pill warn"><b>TIP</b> ì¦ê²¨ì°¾ê¸°/í™ˆí™”ë©´ ì¶”ê°€</span>
          </div>
        </div>
        <div class="bd">
          <div class="panel" style="margin-bottom:12px">
            <div style="font-weight:900; margin-bottom:6px">âœ… ì—„ë§ˆ ë¯¸ì…˜ ì¸ì¦ì´ í•„ìš”í•  ë•Œ</div>
            <div class="smallnote" style="margin-top:0">
              ê´€ì¥ë‹˜ ì¹´í†¡ ê³µì§€ë¡œ â€œì˜¤ëŠ˜ ë¯¸ì…˜â€ì´ ì—´ë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤. <br/>
              ë¯¸ì…˜ ì™„ë£Œ í›„ ì•„ë˜ ë²„íŠ¼ìœ¼ë¡œ ì¸ì¦ì„ ì œì¶œí•´ì£¼ì„¸ìš”.
            </div>
            <div class="ctaRow" style="margin-top:10px">
              <a class="btn gold" id="momFormBtn2" href="#" target="_blank" rel="noopener">ğŸ“ êµ¬ê¸€í¼ ì—´ê¸°</a>
              <a class="btn" href="./guide/">ğŸ“Œ ìš´ì˜ ë°©ì‹ ë³´ê¸°</a>
            </div>
          </div>

          <div class="panel">
            <div style="font-weight:900; margin-bottom:6px">ğŸ¯ ì˜¬í•´ ë„ë³µ ëª©í‘œ(ëˆ„ì  í™•ì¥í˜•)</div>
            <div class="smallnote" style="margin-top:0">
              â€¢ 30,000ì : ì¼ë°˜ ë„ë³µ<br/>
              â€¢ 60,000ì : ìœ ë‹¨ì ë„ë³µ<br/>
              â€¢ 90,000ì : ê³ ë‹¨ì ë„ë³µ(ì–´ê¹¨ ì‚¼ì„ )<br/>
              <span style="color:rgba(255,255,255,.86); font-weight:800">í•œ ë²ˆ ë‹¬ì„±í•˜ë©´ ëì´ ì•„ë‹ˆë¼, ê³„ì† ëˆ„ì ë©ë‹ˆë‹¤.</span>
            </div>
            <div class="sep"></div>
            <div class="smallnote" style="margin-top:0">
              ì¡°íšŒê°€ ìì£¼ í•„ìš”í•˜ì‹œë©´, ìƒë‹¨ì— ìˆëŠ” <b>í™ˆìœ¼ë¡œ</b> ë²„íŠ¼ ì˜†ì— ì¦ê²¨ì°¾ê¸°(â­) ì¶”ê°€ë¥¼ ì¶”ì²œë“œë¦½ë‹ˆë‹¤.
            </div>
          </div>
        </div>
      </aside>
    </div>

    <div class="smallnote" style="margin-top:14px">
      Â© <span id="year"></span> ê³„ëª…íƒœê¶Œë„ Â· ì„±ì¥ í¬ì¸íŠ¸ ì‹œìŠ¤í…œ
    </div>
  </main>

  <!-- âœ… ë°ì´í„° ë¡œë“œ: growth/data/data.js -->
  <script src="./data/data.js"></script>

  <script>
    /* ===========================
      âœ… CHANGE ZONE (í•„ìˆ˜)
      1) ì•„ë˜ êµ¬ê¸€í¼ URLì„ ì‹¤ì œ ì£¼ì†Œë¡œ ë°”ê¾¸ì„¸ìš”.
      2) data.js í˜•ì‹ì€ ì•„ë˜ ì£¼ì„ ì°¸ê³ .
    ============================ */
    const MOM_FORM_URL = "#"; // â† ì—¬ê¸°ì— êµ¬ê¸€í¼ ë§í¬ ë„£ê¸° (ì˜ˆ: https://docs.google.com/forms/d/e/XXXX/viewform)

    // data.js ê¶Œì¥ í¬ë§·(ì˜ˆì‹œ):
    // window.KMT_GROWTH_DB = {
    //   meta: { updatedAt: "2026-02-28 21:00" },
    //   students: [
    //     {
    //       id: "KM002",
    //       name: "í™ê¸¸ë™",
    //       dob: "20170123",
    //       joined: "2025-03-01",
    //       totalPoints: 64300,
    //       streakAchieved: 2,         // 30,000ì  ë‹¬ì„± íšŸìˆ˜(ì—°ì†/ëˆ„ì ) - ìš´ì˜ ë°©ì‹ì— ë§ê²Œ ê¸°ì…
    //       lastActivity: "2026-02-28" // ì„ íƒ
    //     }
    //   ]
    // };

    // ---------- Helpers ----------
    const fmt = (n) => (Number(n)||0).toLocaleString("ko-KR");
    const clamp = (v, a, b) => Math.max(a, Math.min(b, v));
    const normId = (s) => (s||"").trim().toUpperCase();
    const normName = (s) => (s||"").trim();
    const normDob = (s) => (s||"").replace(/\D/g,"").trim();

    function safeDB(){
      const db = window.KMT_GROWTH_DB;
      if(!db) return {meta:{}, students:[]};
      // allow array-only legacy
      if(Array.isArray(db)) return {meta:{}, students: db};
      return {meta: db.meta || {}, students: db.students || []};
    }

    function calcRank(total){
      // âœ… ì›¹ í‘œì‹œ ë“±ê¸‰(ëˆ„ì  30,000 ê¸°ì¤€ ë‚´/ì™¸ í™•ì¥í˜•)
      // 1ë…„ êµ¬ì¡°(0~30k) + í™•ì¥í˜•(30k ì´ìƒ)ì„ ìì—°ìŠ¤ëŸ½ê²Œ ì—°ê²°
      const t = Number(total)||0;
      if(t >= 100000) return "KM ë ˆì „ë“œ";
      if(t >= 75000)  return "KM ê·¸ëœë“œ";
      if(t >= 50000)  return "KM ë§ˆìŠ¤í„°";
      if(t >= 30000)  return "KM ì±”í”¼ì–¸";
      if(t >= 20001)  return "ë¸”ë£¨ë§ˆìŠ¤í„°";
      if(t >= 12001)  return "ê³¨ë“œ";
      if(t >= 5001)   return "ì‹¤ë²„";
      return "ë¸Œë¡ ì¦ˆ";
    }

    function nextMilestone(total){
      const t = Number(total)||0;
      const step = 30000;
      const next = Math.ceil((t+1) / step) * step; // ë‹¤ìŒ 30,000 ë‹¨ìœ„
      // ë§Œì•½ 0ì´ë©´ 30000
      return next || step;
    }

    function milestoneStatus(total){
      const t = Number(total)||0;
      return {
        m1: t >= 30000,
        m2: t >= 60000,
        m3: t >= 90000
      };
    }

    function uniformLabel(target){
      if(target <= 30000) return "ì¼ë°˜ ë„ë³µ (30,000ì )";
      if(target <= 60000) return "ìœ ë‹¨ì ë„ë³µ (60,000ì )";
      if(target <= 90000) return "ê³ ë‹¨ì ë„ë³µÂ·ì‚¼ì„  (90,000ì )";
      return "ë‹¤ìŒ ë‹¨ê³„ (ëˆ„ì  í™•ì¥)";
    }

    // ---------- DOM ----------
    const yearEl = document.getElementById("year");
    yearEl.textContent = new Date().getFullYear();

    // Set form URL everywhere
    const momBtns = ["momFormBtn","momFormBtn2","momFormCard"].map(id => document.getElementById(id));
    momBtns.forEach(el => { if(el){ el.href = MOM_FORM_URL; } });

    // Tabs
    const tabId = document.getElementById("tabId");
    const tabNameDob = document.getElementById("tabNameDob");
    const modeId = document.getElementById("modeId");
    const modeNameDob = document.getElementById("modeNameDob");

    function setMode(mode){
      const isId = (mode === "id");
      tabId.classList.toggle("active", isId);
      tabNameDob.classList.toggle("active", !isId);
      tabId.setAttribute("aria-selected", String(isId));
      tabNameDob.setAttribute("aria-selected", String(!isId));
      modeId.style.display = isId ? "block" : "none";
      modeNameDob.style.display = isId ? "none" : "block";
      setStatus("ì¡°íšŒê°€ ì•ˆ ë  ë•ŒëŠ” ì•„ì´ë”” ë˜ëŠ” ì´ë¦„+ìƒë…„ì›”ì¼ì´ ì •í™•í•œì§€ í™•ì¸í•´ì£¼ì„¸ìš”.", "neutral");
      hideResult();
    }
    tabId.addEventListener("click", () => setMode("id"));
    tabNameDob.addEventListener("click", () => setMode("nameDob"));
    tabId.addEventListener("keydown", (e)=>{ if(e.key==="Enter"||e.key===" "){ e.preventDefault(); setMode("id"); }});
    tabNameDob.addEventListener("keydown", (e)=>{ if(e.key==="Enter"||e.key===" "){ e.preventDefault(); setMode("nameDob"); }});

    // Clear buttons
    document.querySelectorAll(".clear").forEach(btn=>{
      btn.addEventListener("click", ()=>{
        const target = btn.getAttribute("data-clear");
        const el = document.getElementById(target);
        if(el){ el.value=""; el.dispatchEvent(new Event("input")); el.focus(); }
        hideResult();
      });
    });

    // Add hasValue state
    function hookWrap(inputId, wrapId){
      const input = document.getElementById(inputId);
      const wrap = document.getElementById(wrapId);
      const fn = () => wrap.classList.toggle("hasValue", !!input.value.trim());
      input.addEventListener("input", fn);
      fn();
    }
    hookWrap("inputId","wrapId");
    hookWrap("inputName","wrapName");
    hookWrap("inputDob","wrapDob");

    // Status message
    const statusMsg = document.getElementById("statusMsg");
    function setStatus(text, tone){
      statusMsg.className = "msg";
      if(tone==="good") statusMsg.classList.add("good");
      if(tone==="bad") statusMsg.classList.add("bad");
      statusMsg.innerHTML = text;
    }

    // Last updated
    const lastUpdatedEl = document.getElementById("lastUpdated");
    const db = safeDB();
    lastUpdatedEl.textContent = (db.meta && db.meta.updatedAt) ? db.meta.updatedAt : "ìˆ˜ë™ ë°ì´í„°";

    // Result elements
    const result = document.getElementById("result");
    const resName = document.getElementById("resName");
    const resMeta = document.getElementById("resMeta");
    const resRank = document.getElementById("resRank");
    const resTotal = document.getElementById("resTotal");
    const resStreak = document.getElementById("resStreak");
    const nextGoalEl = document.getElementById("nextGoal");
    const remainEl = document.getElementById("remain");
    const barFill = document.getElementById("barFill");
    const barPct = document.getElementById("barPct");
    const barNote = document.getElementById("barNote");
    const barLabel = document.getElementById("barLabel");
    const m1Tag = document.getElementById("m1Tag");
    const m2Tag = document.getElementById("m2Tag");
    const m3Tag = document.getElementById("m3Tag");

    function hideResult(){
      result.classList.remove("show");
      barFill.style.width = "0%";
    }

    function showStudent(stu){
      const total = Number(stu.totalPoints ?? stu.total ?? 0) || 0;
      const rank = calcRank(total);
      const next = nextMilestone(total);
      const base = next - 30000;
      const denom = 30000;
      const prog = clamp(((total - base) / denom) * 100, 0, 100);

      const remain = Math.max(0, next - total);

      resName.textContent = stu.name || "-";
      const idText = stu.id ? `ì•„ì´ë””: ${stu.id}` : "";
      const joinText = stu.joined ? `ë“±ë¡: ${stu.joined}` : "";
      const lastText = stu.lastActivity ? `ìµœê·¼ê¸°ë¡: ${stu.lastActivity}` : "";
      const metaParts = [idText, joinText, lastText].filter(Boolean);
      resMeta.textContent = metaParts.length ? metaParts.join(" Â· ") : "ì¡°íšŒë˜ì—ˆìŠµë‹ˆë‹¤.";

      resRank.textContent = rank;
      resTotal.textContent = fmt(total);
      resStreak.textContent = fmt(Number(stu.streakAchieved ?? stu.achievedCount ?? 0) || 0);

      nextGoalEl.textContent = uniformLabel(next);
      remainEl.textContent = `${fmt(remain)}ì `;

      barLabel.textContent = `ë‹¤ìŒ ëª©í‘œê¹Œì§€ ì§„í–‰ë¥ `;
      barPct.textContent = `${Math.round(prog)}%`;
      requestAnimationFrame(()=>{ barFill.style.width = `${prog}%`; });

      barNote.textContent = `í˜„ì¬ êµ¬ê°„: ${fmt(base)}ì  ~ ${fmt(next)}ì  Â· ë‹¤ìŒ ëª©í‘œ: ${fmt(next)}ì `;

      const ms = milestoneStatus(total);
      m1Tag.textContent = ms.m1 ? "ë‹¬ì„±" : "ë¯¸ë‹¬ì„±";
      m2Tag.textContent = ms.m2 ? "ë‹¬ì„±" : "ë¯¸ë‹¬ì„±";
      m3Tag.textContent = ms.m3 ? "ë‹¬ì„±" : "ë¯¸ë‹¬ì„±";

      m1Tag.className = "tag " + (ms.m1 ? "done" : (next===30000 ? "next":"lock"));
      m2Tag.className = "tag " + (ms.m2 ? "done" : (next===60000 ? "next":"lock"));
      m3Tag.className = "tag " + (ms.m3 ? "done" : (next===90000 ? "next":"lock"));

      result.classList.add("show");
      setStatus("ì¡°íšŒê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤. ì•„ë˜ì—ì„œ ë“±ê¸‰ê³¼ ë„ë³µ ëª©í‘œ ì§„í–‰ë¥ ì„ í™•ì¸í•˜ì„¸ìš”.", "good");
    }

    function findById(id){
      const students = db.students || [];
      const key = normId(id);
      return students.find(s => normId(s.id) === key);
    }
    function findByNameDob(name, dob){
      const students = db.students || [];
      const n = normName(name);
      const d = normDob(dob);
      return students.find(s => (normName(s.name) === n) && (normDob(s.dob) === d));
    }

    // Buttons
    const btnSearch = document.getElementById("btnSearch");
    const btnReset = document.getElementById("btnReset");
    const inputId = document.getElementById("inputId");
    const inputName = document.getElementById("inputName");
    const inputDob = document.getElementById("inputDob");

    function currentMode(){
      return tabId.classList.contains("active") ? "id" : "nameDob";
    }

    function doSearch(){
      hideResult();

      if(!db.students || db.students.length === 0){
        setStatus("ë°ì´í„°ê°€ ì•„ì§ ì—°ê²°ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. (ê´€ë¦¬ì) growth/data/data.jsì˜ ë°ì´í„° í˜•ì‹ì„ í™•ì¸í•´ì£¼ì„¸ìš”.", "bad");
        console.warn("[growth] DB not loaded or empty. Please check window.KMT_GROWTH_DB in ./data/data.js");
        return;
      }

      const mode = currentMode();

      if(mode === "id"){
        const id = inputId.value.trim();
        if(!id){
          setStatus("ì•„ì´ë””ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”. ì˜ˆ) KM002", "bad");
          return;
        }
        const stu = findById(id);
        if(!stu){
          setStatus("ì¼ì¹˜í•˜ëŠ” ì •ë³´ê°€ ì—†ìŠµë‹ˆë‹¤. ì•„ì´ë””ë¥¼ ë‹¤ì‹œ í™•ì¸í•´ì£¼ì„¸ìš”.", "bad");
          return;
        }
        showStudent(stu);
        return;
      }

      // name + dob
      const name = inputName.value.trim();
      const dob = inputDob.value.trim();
      if(!name || !dob){
        setStatus("ì´ë¦„ê³¼ ìƒë…„ì›”ì¼(8ìë¦¬)ì„ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.", "bad");
        return;
      }
      if(normDob(dob).length !== 8){
        setStatus("ìƒë…„ì›”ì¼ì€ 8ìë¦¬(ì˜ˆ: 20170123)ë¡œ ì…ë ¥í•´ì£¼ì„¸ìš”.", "bad");
        return;
      }
      const stu = findByNameDob(name, dob);
      if(!stu){
        setStatus("ì¼ì¹˜í•˜ëŠ” ì •ë³´ê°€ ì—†ìŠµë‹ˆë‹¤. ì´ë¦„ê³¼ ìƒë…„ì›”ì¼ì„ ë‹¤ì‹œ í™•ì¸í•´ì£¼ì„¸ìš”.", "bad");
        return;
      }
      showStudent(stu);
    }

    btnSearch.addEventListener("click", doSearch);
    btnReset.addEventListener("click", ()=>{
      inputId.value = "";
      inputName.value = "";
      inputDob.value = "";
      inputId.dispatchEvent(new Event("input"));
      inputName.dispatchEvent(new Event("input"));
      inputDob.dispatchEvent(new Event("input"));
      hideResult();
      setStatus("ì…ë ¥ì´ ì´ˆê¸°í™”ë˜ì—ˆìŠµë‹ˆë‹¤. ì•„ì´ë”” ë˜ëŠ” ì´ë¦„+ìƒë…„ì›”ì¼ë¡œ ë‹¤ì‹œ ì¡°íšŒí•´ì£¼ì„¸ìš”.", "neutral");
      inputId.focus();
    });

    // Enter triggers search
    [inputId, inputName, inputDob].forEach(el=>{
      el.addEventListener("keydown", (e)=>{
        if(e.key === "Enter"){ e.preventDefault(); doSearch(); }
      });
    });

    // Mobile-ish: format DOB input to digits only
    inputDob.addEventListener("input", ()=>{
      const v = normDob(inputDob.value).slice(0,8);
      inputDob.value = v;
    });

    // If form URL not set, gently warn in console only (no on-screen noise)
    if(MOM_FORM_URL === "#"){
      console.warn("[growth] MOM_FORM_URL is not set yet. Please paste Google Form URL in the CHANGE ZONE.");
    }
  </script>
</body>
</html>
