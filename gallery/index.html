<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>ê°¤ëŸ¬ë¦¬ & ì˜ìƒ | ê³„ëª…íƒœê¶Œë„</title>
  <meta name="description" content="ê³„ëª…íƒœê¶Œë„ ê³µì‹ ê°¤ëŸ¬ë¦¬ & ì˜ìƒ. ìˆ˜ë ¨, ì‹¬ì‚¬, í–‰ì‚¬, ì„±ì¥ ê¸°ë¡ì„ í•œ ê³³ì—ì„œ í™•ì¸í•˜ì„¸ìš”." />
  <meta name="theme-color" content="#0b0f19" />

  <!-- OG -->
  <meta property="og:type" content="website" />
  <meta property="og:title" content="ê³„ëª…íƒœê¶Œë„ | ê°¤ëŸ¬ë¦¬ & ì˜ìƒ" />
  <meta property="og:description" content="ìˆ˜ë ¨Â·ì‹¬ì‚¬Â·í–‰ì‚¬Â·ì„±ì¥ ê¸°ë¡. ëª¨ë°”ì¼ ìµœì í™” ê°¤ëŸ¬ë¦¬." />
  <meta property="og:image" content="https://static.wixstatic.com/media/abf917_38e0bc3b3d804b3caa6aa8363163950d~mv2.jpg" />

  <style>
    :root{
      --bg:#0b0f19;
      --line:rgba(255,255,255,.10);
      --text:rgba(255,255,255,.92);
      --muted:rgba(255,255,255,.68);
      --gold:#d7b56d;
      --blue:#66b3ff;
      --shadow: 0 18px 60px rgba(0,0,0,.45);
      --r:18px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, "Noto Sans KR", "Malgun Gothic", sans-serif;
      background: radial-gradient(1200px 700px at 18% -10%, rgba(102,179,255,.15), transparent 55%),
                  radial-gradient(900px 650px at 100% 0%, rgba(215,181,109,.14), transparent 58%),
                  linear-gradient(180deg, #070b14, var(--bg));
      color:var(--text);
    }
    a{color:inherit; text-decoration:none}
    .wrap{max-width:1100px; margin:0 auto; padding:20px 16px 90px}

    /* Top Bar */
    .topbar{
      position:sticky; top:0; z-index:50;
      backdrop-filter: blur(10px);
      background: rgba(11,15,25,.68);
      border-bottom:1px solid var(--line);
    }
    .topbar .inner{
      max-width:1100px; margin:0 auto;
      display:flex; align-items:center; gap:10px;
      padding:10px 16px;
    }
    .brand{display:flex; flex-direction:column; gap:2px}
    .brand b{letter-spacing:.2px}
    .brand small{color:var(--muted)}
    .spacer{flex:1}
    .btn{
      display:inline-flex; align-items:center; justify-content:center; gap:8px;
      padding:10px 12px;
      border-radius:12px;
      border:1px solid var(--line);
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
      color:var(--text);
      cursor:pointer;
      user-select:none;
      transition: transform .15s ease, border-color .15s ease, background .15s ease;
      font-weight:650;
      white-space:nowrap;
    }
    .btn:hover{transform: translateY(-1px); border-color: rgba(215,181,109,.35)}
    .btn:active{transform: translateY(0px)}
    .btn.primary{
      border-color: rgba(102,179,255,.35);
      background: linear-gradient(180deg, rgba(102,179,255,.16), rgba(255,255,255,.03));
    }
    .btn.gold{
      border-color: rgba(215,181,109,.45);
      background: linear-gradient(180deg, rgba(215,181,109,.18), rgba(255,255,255,.03));
    }

    /* Section Cards */
    .cardBox{
      margin-top:18px;
      border:1px solid var(--line);
      border-radius: var(--r);
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
      box-shadow: var(--shadow);
      overflow:hidden;
    }
    .cardBox .head{
      display:flex; align-items:flex-end; justify-content:space-between; gap:12px;
      padding:16px 16px 12px;
      border-bottom:1px solid var(--line);
    }
    .cardBox .head h2{margin:0; font-size:18px}
    .cardBox .head p{margin:0; color:var(--muted); font-size:13px; line-height:1.55}
    .cardBox .body{padding:14px 14px 16px}

    /* Search (NO internal hints shown) */
    .searchRow{
      display:flex; gap:10px; flex-wrap:wrap;
      align-items:center;
    }
    .searchRow .field{
      flex:1;
      display:flex;
      align-items:center;
      gap:8px;
      padding:10px 12px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.18);
      min-width: 220px;
    }
    .searchRow input{
      width:100%;
      border:0;
      outline:none;
      background:transparent;
      color:var(--text);
      font-size:14px;
    }
    .xbtn{
      width:34px; height:34px;
      border-radius:12px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.04);
      color: rgba(255,255,255,.86);
      cursor:pointer;
      display:grid; place-items:center;
      font-weight:800;
    }

    /* Result carousel (NO captions) */
    .resultTop{
      display:flex; align-items:center; justify-content:space-between; gap:10px;
      padding:10px 12px;
      border-radius: 16px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.16);
      margin-top:12px;
    }
    .resultTop b{font-size:13px}
    .resultTop small{color: rgba(255,255,255,.70)}
    .carousel{
      margin-top:10px;
      border:1px solid rgba(255,255,255,.12);
      border-radius: 18px;
      background: rgba(0,0,0,.18);
      overflow:hidden;
    }
    .pages{
      display:flex;
      overflow-x:auto;
      scroll-snap-type: x mandatory;
      -webkit-overflow-scrolling: touch;
      scroll-behavior:smooth;
    }
    .page{
      scroll-snap-align: start;
      flex:0 0 100%;
      padding:12px;
    }
    .gridThumb{
      display:grid;
      grid-template-columns: repeat(4, 1fr);
      gap:10px;
    }
    @media (min-width: 820px){
      .gridThumb{ grid-template-columns: repeat(6, 1fr); }
    }
    @media (max-width: 420px){
      .gridThumb{ grid-template-columns: repeat(3, 1fr); }
    }
    .pitem{
      border-radius: 14px;
      overflow:hidden;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.03);
      cursor:pointer;
      position:relative;
    }
    .pitem img{
      width:100%;
      aspect-ratio: 1 / 1;
      object-fit: cover;
      display:block;
      transition: transform .18s ease, filter .18s ease;
      filter: saturate(1.02);
    }
    .pitem:hover img{transform: scale(1.05); filter:saturate(1.08)}

    .dotsRow{
      display:flex; align-items:center; justify-content:center; gap:7px;
      padding:10px 10px 12px;
      border-top:1px solid rgba(255,255,255,.10);
      background: rgba(0,0,0,.10);
    }
    .dot{
      width:7px;height:7px;border-radius:999px;
      background: rgba(255,255,255,.35);
      border:1px solid rgba(255,255,255,.22);
      cursor:pointer;
    }
    .dot.on{ background: rgba(102,179,255,.92); border-color: rgba(102,179,255,.35); }

    /* COVER + THUMBS */
    .cover{
      display:grid;
      grid-template-columns: 1.2fr .8fr;
      gap:12px;
      align-items:stretch;
    }
    .coverMain{
      position:relative;
      border:1px solid var(--line);
      border-radius: 18px;
      overflow:hidden;
      background: rgba(0,0,0,.22);
      min-height: 240px;
      height: 360px;
      max-height: 420px;
    }
    .coverMain img{
      width:100%;
      height:100%;
      object-fit: cover;
      display:block;
      filter: contrast(1.02) saturate(1.03);
      transform: scale(1.01);
    }
    .coverMain .cap{display:none !important;}

    @media (min-width: 980px){
      .coverMain{ height: 420px; max-height: 420px; }
    }
    @media (min-width: 1280px){
      .coverMain{ height: 440px; max-height: 440px; }
    }

    /* âœ… THUMB RAIL: PAGED (5 rows only) */
    .thumbRail{
      border:1px solid var(--line);
      border-radius: 18px;
      background: rgba(0,0,0,.18);
      padding:10px;
      display:flex;
      flex-direction:column;
      gap:10px;
      min-width: 280px;
    }
    .thumbTitle{
      display:flex; align-items:center; justify-content:space-between; gap:10px;
      padding:0 4px;
    }
    .thumbTitle b{font-size:14px}
    .thumbTitle small{color:var(--muted)}

    /* Rail controls */
    .railTopRow{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      padding:0 4px;
    }
    .railNav{
      display:flex; gap:8px; flex-wrap:wrap;
      align-items:center;
      justify-content:flex-end;
    }
    .navMini{
      width:40px; height:36px;
      border-radius: 12px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.04);
      color: rgba(255,255,255,.92);
      cursor:pointer;
      font-weight:900;
      display:grid; place-items:center;
      user-select:none;
    }
    .navMini:hover{ border-color: rgba(215,181,109,.35); transform: translateY(-1px); }
    .navMini:active{ transform: translateY(0); }
    .railMeta{
      color: rgba(255,255,255,.70);
      font-size:12px;
      white-space:nowrap;
    }

    /* Rail pager */
    .thumbPager{
      border:1px solid rgba(255,255,255,.10);
      border-radius: 16px;
      overflow:hidden;
      background: rgba(0,0,0,.12);
    }
    .thumbPages{
      display:flex;
      overflow-x:auto;
      scroll-snap-type: x mandatory;
      -webkit-overflow-scrolling: touch;
      scroll-behavior:smooth;
    }
    .thumbPage{
      scroll-snap-align: start;
      flex:0 0 100%;
      padding:8px;
    }

    /* 3 columns x 5 rows = 15 thumbs per page (fixed) */
    .thumbGrid{
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap:8px;
    }
    .titem{
      position:relative;
      border-radius: 14px;
      overflow:hidden;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.03);
      cursor:pointer;
      transform: translateZ(0);
    }
    .titem img{
      width:100%;
      aspect-ratio: 1 / 1;
      object-fit: cover;
      display:block;
      transition: transform .2s ease, filter .2s ease;
      filter: saturate(1.02);
    }
    .titem:hover img{transform: scale(1.05); filter: saturate(1.08)}
    .titem.active{border-color: rgba(102,179,255,.45)}
    .titem.active::after{
      content:"";
      position:absolute; inset:0;
      box-shadow: inset 0 0 0 2px rgba(102,179,255,.55);
      border-radius: 14px;
      pointer-events:none;
    }

    .thumbDots{
      display:flex; align-items:center; justify-content:center; gap:7px;
      padding:10px 10px 10px;
      border-top:1px solid rgba(255,255,255,.10);
      background: rgba(0,0,0,.10);
    }

    /* SLIDESHOW */
    .slideshow{
      margin-top:12px;
      border:1px solid var(--line);
      border-radius: 18px;
      overflow:hidden;
      background: rgba(0,0,0,.18);
    }
    .slideTop{
      display:flex; align-items:center; justify-content:space-between; gap:10px;
      padding:10px 12px;
      border-bottom:1px solid rgba(255,255,255,.10);
    }
    .slideTop .info{
      display:flex; flex-direction:column; gap:2px;
      min-width:0;
    }
    .slideTop .info b{
      font-size:14px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
    }
    .slideTop .info small{color:var(--muted); font-size:12px}
    .controls{
      display:flex; gap:8px; flex-wrap:wrap; justify-content:flex-end;
    }
    .slideBox{
      position:relative;
      width:100%;
      aspect-ratio: 16 / 9;
      background:#000;
    }
    .slideBox img{
      position:absolute; inset:0;
      width:100%; height:100%;
      object-fit: cover;
      display:block;
      opacity:0;
      transition: opacity .35s ease;
    }
    .slideBox img.show{opacity:1}
    .navBtn{
      position:absolute;
      top:50%;
      transform: translateY(-50%);
      width:44px; height:44px;
      border-radius: 14px;
      border:1px solid rgba(255,255,255,.18);
      background: rgba(0,0,0,.35);
      color: rgba(255,255,255,.92);
      display:grid; place-items:center;
      cursor:pointer;
      user-select:none;
    }
    .navBtn:hover{border-color: rgba(215,181,109,.45)}
    .navBtn.prev{left:10px}
    .navBtn.next{right:10px}

    /* Videos */
    .video-grid{
      display:grid;
      grid-template-columns: 1fr;
      gap:12px;
    }
    @media (min-width: 900px){
      .video-grid{grid-template-columns: 1fr 1fr}
    }
    .video-card{
      border:1px solid var(--line);
      border-radius: var(--r);
      overflow:hidden;
      background: rgba(255,255,255,.03);
      box-shadow: var(--shadow);
    }
    .video-embed{
      position:relative;
      width:100%;
      aspect-ratio: 16 / 9;
      background: #000;
    }
    .video-embed iframe{
      position:absolute; inset:0;
      width:100%; height:100%;
      border:0;
    }
    .video-body{
      padding:12px 12px 14px;
      display:flex; flex-direction:column; gap:6px;
    }
    .video-body b{font-size:14px; line-height:1.35}
    .video-body p{margin:0; color:var(--muted); font-size:13px; line-height:1.5}
    .moreRow{
      margin-top:12px;
      display:flex; gap:10px; flex-wrap:wrap;
    }

    /* Lightbox */
    .lb{
      position:fixed; inset:0;
      background: rgba(0,0,0,.78);
      display:none;
      z-index: 9999;
      padding: 16px;
    }
    .lb.show{display:flex}
    .lb .panel{
      margin:auto;
      width:min(980px, 100%);
      border-radius: 18px;
      overflow:hidden;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(15,22,42,.88);
      backdrop-filter: blur(10px);
      box-shadow: 0 30px 120px rgba(0,0,0,.65);
    }
    .lb-top{
      display:flex; align-items:center; justify-content:space-between; gap:10px;
      padding:10px 12px;
      border-bottom:1px solid rgba(255,255,255,.12);
    }
    .lb-top .title{
      display:flex; flex-direction:column; gap:2px;
      min-width:0;
    }
    .lb-top .title b{font-size:14px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis}
    .lb-top .title small{color:rgba(255,255,255,.70); font-size:12px}
    .lb-actions{display:flex; gap:8px; flex-wrap:wrap; justify-content:flex-end}
    .iconbtn{
      padding:9px 10px;
      border-radius: 12px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.20);
      cursor:pointer;
      color: rgba(255,255,255,.88);
      font-weight:750;
      white-space:nowrap;
    }
    .iconbtn:hover{border-color: rgba(102,179,255,.35)}
    .lb-body{background: rgba(0,0,0,.35)}
    .lb-img{
      width:100%;
      max-height: calc(100vh - 220px);
      object-fit: contain;
      display:block;
      margin: 0 auto;
      background: rgba(0,0,0,.30);
    }

    /* Toast */
    #toast{
      position:fixed;
      left:50%;
      bottom:18px;
      transform: translateX(-50%);
      padding:10px 12px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(15,22,42,.88);
      backdrop-filter: blur(10px);
      color: rgba(255,255,255,.92);
      font-weight:750;
      box-shadow: 0 18px 60px rgba(0,0,0,.45);
      z-index: 10000;
      opacity:0;
      transition: opacity .2s ease;
      pointer-events:none;
    }

    @media (max-width: 980px){
      .cover{grid-template-columns: 1fr}
      .thumbRail{min-width: auto}
    }
  </style>
</head>
<body>

  <div class="topbar">
    <div class="inner">
      <div class="brand">
        <b>ê³„ëª…íƒœê¶Œë„</b>
        <small>Gallery & Video</small>
      </div>
      <div class="spacer"></div>
      <a class="btn gold" href="../index.html">ğŸ  í™ˆìœ¼ë¡œ</a>
      <button class="btn primary" id="btnScrollTop" type="button">â¬†ï¸</button>
    </div>
  </div>

  <main class="wrap">

    <!-- ê²€ìƒ‰(í™”ë©´ì— ë‚´ë¶€ìš© ì•ˆë‚´ë¬¸êµ¬ ì—†ìŒ) -->
    <section class="cardBox" id="searchSection">
      <div class="head">
        <div>
          <h2>ì‚¬ì§„ ì¡°íšŒ</h2>
          <p>ì´ë¦„/í‚¤ì›Œë“œë¡œ ê²€ìƒ‰ í›„ ì‚¬ì§„ì„ í™•ì¸í•©ë‹ˆë‹¤.</p>
        </div>
      </div>

      <div class="body">
        <div class="searchRow">
          <div class="field">
            ğŸ”
            <input id="q" type="text" inputmode="search" autocomplete="off" placeholder="ê²€ìƒ‰ì–´ ì…ë ¥" />
            <button class="xbtn" id="btnClear" type="button" title="ì§€ìš°ê¸°">âœ•</button>
          </div>
          <button class="btn primary" id="btnSearch" type="button">ì¡°íšŒ</button>
          <button class="btn" id="btnShowAll" type="button">ì „ì²´</button>
        </div>

        <div id="resultArea" style="display:none;">
          <div class="resultTop">
            <div>
              <b id="resultTitle">ê²°ê³¼</b><br/>
              <small id="resultMeta">â€”</small>
            </div>
            <div style="display:flex; gap:8px; flex-wrap:wrap; justify-content:flex-end;">
              <button class="btn" id="btnCopyQueryLink" type="button">ğŸ”— ê²°ê³¼ ë§í¬ë³µì‚¬</button>
            </div>
          </div>

          <div class="carousel">
            <div class="pages" id="pages"></div>
            <div class="dotsRow" id="dotsRow"></div>
          </div>
        </div>

        <div id="emptyArea" style="display:none; margin-top:12px; color:rgba(255,255,255,.72); font-size:12px;">
          ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.
        </div>
      </div>
    </section>

    <!-- ëŒ€í‘œ + ì¸ë„¤ì¼(í˜ì´ì§€) -->
    <section class="cardBox">
      <div class="head">
        <div>
          <h2>ëŒ€í‘œ ì‚¬ì§„</h2>
          <p>ì¸ë„¤ì¼ì€ 5ì¤„ë§Œ í‘œì‹œë˜ë©°, ì¢Œìš°ë¡œ ë„˜ê²¨ í˜ì´ì§€ ì´ë™í•©ë‹ˆë‹¤.</p>
        </div>
        <div style="display:flex; gap:8px; flex-wrap:wrap">
          <button class="btn" id="btnCoverPrev" type="button">â€¹ ì´ì „</button>
          <button class="btn" id="btnCoverNext" type="button">ë‹¤ìŒ â€º</button>
          <button class="btn" id="btnOpenCover" type="button">ğŸ” í™•ëŒ€</button>
        </div>
      </div>

      <div class="body">
        <div class="cover">
          <div class="coverMain" id="coverMain">
            <img id="coverImg" src="" alt="ëŒ€í‘œ ì‚¬ì§„" />
          </div>

          <aside class="thumbRail">
            <div class="railTopRow">
              <div class="thumbTitle" style="padding:0;">
                <b>ì¸ë„¤ì¼</b>
                <small><span id="thumbCount">0</span>ì¥</small>
              </div>
              <div class="railNav">
                <button class="navMini" id="btnThumbPrev" type="button" aria-label="ì¸ë„¤ì¼ ì´ì „ í˜ì´ì§€">â€¹</button>
                <button class="navMini" id="btnThumbNext" type="button" aria-label="ì¸ë„¤ì¼ ë‹¤ìŒ í˜ì´ì§€">â€º</button>
              </div>
            </div>

            <div class="railMeta" id="thumbMeta">1/1</div>

            <div class="thumbPager">
              <div class="thumbPages" id="thumbPages"></div>
              <div class="thumbDots" id="thumbDots"></div>
            </div>

            <div style="display:flex; gap:8px; flex-wrap:wrap; margin-top:2px">
              <button class="btn" id="btnCopyCover" type="button">ğŸ”— ë§í¬ë³µì‚¬</button>
              <button class="btn" id="btnShuffleThumbs" type="button">ğŸ² ì„ê¸°</button>
            </div>
          </aside>
        </div>
      </div>
    </section>

    <!-- ìŠ¬ë¼ì´ë“œ ì‡¼ -->
    <section class="cardBox">
      <div class="head">
        <div>
          <h2>ê°¤ëŸ¬ë¦¬ ìŠ¬ë¼ì´ë“œ ì‡¼</h2>
          <p>ìë™ ì¬ìƒ(ê¸°ë³¸ 4ì´ˆ) Â· ì¼ì‹œì •ì§€/ì´ì „/ë‹¤ìŒ/ì†ë„ ì¡°ì ˆ</p>
        </div>
        <div class="controls">
          <button class="btn" id="btnPrev" type="button">âŸµ</button>
          <button class="btn primary" id="btnPlay" type="button">â–¶ ìë™ì¬ìƒ</button>
          <button class="btn" id="btnPause" type="button">â¸ ì •ì§€</button>
          <button class="btn" id="btnNext" type="button">âŸ¶</button>
          <button class="btn" id="btnSpeed" type="button">â± 4ì´ˆ</button>
          <button class="btn" id="btnOpenSlide" type="button">ğŸ” í™•ëŒ€</button>
        </div>
      </div>

      <div class="body">
        <div class="slideshow">
          <div class="slideTop">
            <div class="info">
              <b id="slideTitle">ì‚¬ì§„</b>
              <small id="slideSub">â€”</small>
            </div>
            <div style="display:flex; gap:8px; flex-wrap:wrap">
              <button class="btn" id="btnCopySlide" type="button">ğŸ”— ë§í¬ë³µì‚¬</button>
            </div>
          </div>
          <div class="slideBox" id="slideBox">
            <img id="slideImgA" src="" alt="ìŠ¬ë¼ì´ë“œ A" />
            <img id="slideImgB" src="" alt="ìŠ¬ë¼ì´ë“œ B" />
            <div class="navBtn prev" id="navPrev">â€¹</div>
            <div class="navBtn next" id="navNext">â€º</div>
          </div>
        </div>
      </div>
    </section>

    <!-- ì˜ìƒ -->
    <section class="cardBox">
      <div class="head">
        <div>
          <h2>ì˜ìƒ</h2>
          <p>ìœ íŠœë¸Œ ì œëª©ì„ ìë™ìœ¼ë¡œ ë¶ˆëŸ¬ì™€ì„œ í‘œì‹œí•©ë‹ˆë‹¤.</p>
        </div>
      </div>

      <div class="body">
        <div class="video-grid" id="videoGrid"></div>

        <div class="moreRow">
          <button class="btn gold" id="btnMoreVideos" type="button">ğŸ“º ì˜ìƒ ë”ë³´ê¸°(ì±„ë„)</button>
          <button class="btn" id="btnCopyChannel" type="button">ğŸ”— ì±„ë„ ë§í¬ ë³µì‚¬</button>
        </div>
      </div>
    </section>

  </main>

  <!-- Lightbox -->
  <div class="lb" id="lb" aria-hidden="true">
    <div class="panel" role="dialog" aria-modal="true" aria-label="ì´ë¯¸ì§€ í™•ëŒ€ ë³´ê¸°">
      <div class="lb-top">
        <div class="title">
          <b id="lbTitle">ì‚¬ì§„</b>
          <small id="lbSub"></small>
        </div>
        <div class="lb-actions">
          <button class="iconbtn" id="lbCopy" type="button">ğŸ”— ë§í¬ë³µì‚¬</button>
          <a class="iconbtn" id="lbDownload" href="#" download target="_blank" rel="noopener">â¬‡ï¸ ë‹¤ìš´ë¡œë“œ</a>
          <button class="iconbtn" id="lbClose" type="button">âœ• ë‹«ê¸°</button>
        </div>
      </div>
      <div class="lb-body">
        <img class="lb-img" id="lbImg" src="" alt="í™•ëŒ€ ì´ë¯¸ì§€" />
      </div>
    </div>
  </div>

  <div id="toast">ë³µì‚¬ ì™„ë£Œ</div>

  <script>
    /* =========================================================
      ë‚´ë¶€ê´€ë¦¬ìš© ë°ì´í„°:
      - ì¤‘ë³µ ì´ë¦„ ìë™ 01,02...
      - í™”ë©´ì—ëŠ” ì ˆëŒ€ í‘œì‹œí•˜ì§€ ì•ŠìŒ
    ========================================================= */

    const RAW_LIST = [
      ["ê¹€ìš°ë¦¬","https://static.wixstatic.com/media/abf917_38e0bc3b3d804b3caa6aa8363163950d~mv2.jpg"],
      ["ë‹¨ì²´_ìœ ì¹˜ë¶€","https://static.wixstatic.com/media/abf917_951d85fca9694590a8f2fd38ff592b39~mv2.jpg"],
      ["ê¹€ìš°ë¦¬","https://static.wixstatic.com/media/abf917_47a49706d5f7405fa0b86c569a4b4a86~mv2.jpg"],
      ["ê¹€ì¬ìœ¤","https://static.wixstatic.com/media/abf917_2edf0bc5b46147949f9bbfe826dfb7a3~mv2.jpg"],
      ["ìœ ê°•ë ¹","https://static.wixstatic.com/media/abf917_06f2ae7d70114b29bdf872a19b97a7f6~mv2.jpg"],
      ["ê¹€í•˜ì¤€","https://static.wixstatic.com/media/abf917_0d0eac21a7824d48a0db82c006fbb375~mv2.jpg"],
      ["ë°±ì§€ìš´","https://static.wixstatic.com/media/abf917_487f495e59b648eab51c773696f71bee~mv2.jpg"],
      ["ê¹€ìš°ë¦¬","https://static.wixstatic.com/media/abf917_4f20b9e1c7764cf5aa53e9ff16cb9a73~mv2.jpg"],
      ["ì „í•˜ë£¨","https://static.wixstatic.com/media/abf917_4f20b9e1c7764cf5aa53e9ff16cb9a73~mv2.jpg"],
      ["ì´ì§€í›ˆ","https://static.wixstatic.com/media/abf917_793e9454aab6410e995582f449a4d39b~mv2.jpg"],
      ["ê¹€ì¬ìœ¤","https://static.wixstatic.com/media/abf917_793e9454aab6410e995582f449a4d39b~mv2.jpg"],
      ["ê¹€ë™ì–¸","https://static.wixstatic.com/media/abf917_d3893ce8f75d4d2d9c0e0c137b4e643b~mv2.jpg"],
      ["ê¹€ìš°ë¦¬","https://static.wixstatic.com/media/abf917_4a7549f31a4843229d9cc89707b81c9c~mv2.jpg"],
      ["ê¹€ì‚¬ë‘","https://static.wixstatic.com/media/abf917_5f5dff08c8c14a03bbaeca6cd3004221~mv2.jpg"],
      ["ë°•í—Œìˆ˜","https://static.wixstatic.com/media/abf917_b7319f215e454b178b0c5144339cc542~mv2.jpg"],
      ["ìœ¤ê²¸","https://static.wixstatic.com/media/abf917_73615ce2de16474b8319269341cde789~mv2.jpg"],
      ["ê¹€ë¯¼ì¤€","https://static.wixstatic.com/media/abf917_08ee40ffffa44677b843d2e40e31e7a9~mv2.jpg"],
      ["ë°•ì¬í¬","https://static.wixstatic.com/media/abf917_93b4cedd1808446cafe27dda156265a6~mv2.jpg"],
      ["ì²œì‹œìœ ","https://static.wixstatic.com/media/abf917_f11c89342f0a499abd89211afeaa22dd~mv2.jpg"],
      ["ê¹€ì˜ˆë‹´","https://static.wixstatic.com/media/abf917_c8fab836b1e24f6bac8721a55aef0299~mv2.jpg"],
      ["ê¹€ìš°ë¦¬","https://static.wixstatic.com/media/abf917_3258b2202c69466d961ec9a5ed2f5ff8~mv2.jpg"],
      ["ê¹€ë¯¼ê·œ","https://static.wixstatic.com/media/abf917_c789e417707447a4af719cd1d8640e19~mv2.jpg"],
      ["ì²œì‹œìœ ","https://static.wixstatic.com/media/abf917_b038304bfe8144ac97b686933da74210~mv2.jpg"],
      ["ìœ í•˜ì¤€","https://static.wixstatic.com/media/abf917_840168eb34f8469cb257dad25b54d97f~mv2.jpg"],
      ["ë‹¨ì²´01","https://static.wixstatic.com/media/abf917_6348ccc36ec74228ae74e6b829fb1c28~mv2.jpg"],
      ["í•˜ì„ì§„","https://static.wixstatic.com/media/abf917_61d046155d6e421fa4990041ab4571d5~mv2.jpg"],
      ["ë°±ë‹¤í˜„","https://static.wixstatic.com/media/abf917_e4bebbb49dd74e0ab31456847d2a7d7e~mv2.jpg"],
      ["ì¥ì€ìš°","https://static.wixstatic.com/media/abf917_835bfff455f34d148c2fe1ce8ef52f83~mv2.jpg"],
      ["ì´ì£¼í˜•","https://static.wixstatic.com/media/abf917_0cb4ed6dc39146b9ac2e0228fc5fe88d~mv2.jpg"],
      ["í™ë‚˜ê²½_ê¹€íƒœì€","https://static.wixstatic.com/media/abf917_f811763b2f0743c08b1ab73801f181be~mv2.jpg"],
      ["ê¹€íƒœì€","https://static.wixstatic.com/media/abf917_e7290c711ce34aa0bfca02dbfcca38c7~mv2.jpg"],
      ["í™ë‚˜ê²½","https://static.wixstatic.com/media/abf917_6cd28e87e2a54dbbabcb8da80a7a44cc~mv2.jpg"],
      ["ê¹€ì˜ˆë‹´","https://static.wixstatic.com/media/abf917_e2f5b672c035423e9056d979c43a9d65~mv2.jpg"],
      ["ë°±ì§€ìš´","https://static.wixstatic.com/media/abf917_37ddae6938ca4529b4cfa959fe129fe6~mv2.jpg"],
      ["ê°•ì°¬í¬","https://static.wixstatic.com/media/abf917_65a65d7169154d5d853ab794109ec6c3~mv2.jpg"],
      ["ê¹€ê·œë¯¼","https://static.wixstatic.com/media/abf917_d35765d3f0894f999515b014f6294d82~mv2.jpg"],
      ["ê¹€ë™ì–¸","https://static.wixstatic.com/media/abf917_d052486b3ffc49ddb1af9ee2c195a0a2~mv2.jpg"],
      ["ì •ì€ì¬","https://static.wixstatic.com/media/abf917_dd10b43205644cc281e8f988d2c2167e~mv2.jpg"],
      ["ìœ¤ìœ ì§„","https://static.wixstatic.com/media/abf917_b73f1b66c05e43c1b26b5c0dd0629cfe~mv2.jpg"],
      ["ê¶Œìœ ì¤€","https://static.wixstatic.com/media/abf917_3e623ec836b74e0f87c94a1569feea89~mv2.jpg"],
      ["ê¹€ì˜ˆë‹´","https://static.wixstatic.com/media/abf917_2111ef384bb54528982bb98959d069be~mv2.jpg"],
      ["ê¹€ìš°ë¦¬","https://static.wixstatic.com/media/abf917_e8e2e4341d144f10b64dffd279ab9366~mv2.jpg"],
      ["ì „í•˜ë£¨","https://static.wixstatic.com/media/abf917_d7a2df1936ff4519ad0f72a6c55596e8~mv2.jpg"],
      ["ìœ ê°€ë ¹","https://static.wixstatic.com/media/abf917_332d067dac7144a79be1f451cf93fe94~mv2.jpg"],
      ["ì´ë„ê²½","https://static.wixstatic.com/media/abf917_04fc8aef9eba4f9a88647b3a8ca5fa47~mv2.jpg"],
      ["ì´ë„ê²½","https://static.wixstatic.com/media/abf917_a1dda041cd654311a9e5192e078029aa~mv2.jpg"],
      ["ê¹€ì˜ˆë‹´_ê¹€ì˜ˆì„±","https://static.wixstatic.com/media/abf917_341bf5072ca544199dca607c1ca80fef~mv2.jpg"],
      ["ê¹€ì˜ˆë‹´","https://static.wixstatic.com/media/abf917_c2995f2c374b45c28718afd5d919cb88~mv2.jpg"],
      ["ê¹€ë¯¼ê·œ","https://static.wixstatic.com/media/abf917_bd581ecf20184c1e9b021ad2952e0684~mv2.jpg"],
      ["ìœ¤ê²¸","https://static.wixstatic.com/media/abf917_c94c7115c70148f5af5cbfcfb632dd61~mv2.jpg"],
      ["ë‹¨ì²´_ìœ ì¹˜ë¶€","https://static.wixstatic.com/media/abf917_7b3b0abdb74f42f4ac7eab5651501a46~mv2.jpg"],
      ["ë‹¨ì²´_ìœ ì¹˜ë¶€","https://static.wixstatic.com/media/abf917_97ff96a1b7d04d13b60ccc2f7d94ed23~mv2.jpg"],
      ["ìµœê¸°ì˜","https://static.wixstatic.com/media/abf917_7eb8f1ca103b4cb58430b11a3c921f65~mv2.jpg"],
      ["í™©ì°¬ê·œ","https://static.wixstatic.com/media/abf917_9afd7745e5e841e7bd5c20d7b116228c~mv2.jpg"],
      ["í•˜ì„ì§„","https://static.wixstatic.com/media/abf917_e993d9f7717b40d0bf878052780a3cb0~mv2.jpg"],
      ["ì „í•˜ë£¨","https://static.wixstatic.com/media/abf917_84f35ee2add34f35a5906902186fde31~mv2.jpg"],
      ["ìµœì§€ìš°","https://static.wixstatic.com/media/abf917_a6e9f03a943f4ff0a1dcc2980a70e5eb~mv2.jpg"],
      ["ì¥ì€ìš°","https://static.wixstatic.com/media/abf917_5f46791d3fad4a5387ab370133323bed~mv2.jpg"],
      ["ì²œì‹œìœ ","https://static.wixstatic.com/media/abf917_b7a5b9b1b7bc4559bf08e7d0e1aa7c45~mv2.jpg"],
      ["ì´ì˜ì§„","https://static.wixstatic.com/media/abf917_b8d11f6c07a54dfd81dc7fd7e6ac5a20~mv2.jpg"],
      ["ì´ì„œì•ˆ","https://static.wixstatic.com/media/abf917_7d13e4d155d44f529c22640db4534d82~mv2.jpg"],
      ["ì´ë„ê²½","https://static.wixstatic.com/media/abf917_5eed7d2b0f0e49b6b96334831fcc4d33~mv2.jpg"],
      ["ì´ì˜ì§„","https://static.wixstatic.com/media/abf917_4cf073c9dfce4c6d8474dee921e0399e~mv2.jpg"],
      ["ìœ¤ìœ ì€","https://static.wixstatic.com/media/abf917_05866f88184a4409900bc5aa49d6ab3d~mv2.jpg"],
      ["ìœ¤ìš°ì§„","https://static.wixstatic.com/media/abf917_c011f2bd756d484f8bd8f795b81e4498~mv2.jpg"],
      ["ìœ¤ê²¸","https://static.wixstatic.com/media/abf917_a2a9c807551045089e8f485a4571326d~mv2.jpg"],
      ["ìœ ê°€ë ¹","https://static.wixstatic.com/media/abf917_7ae350c3a76e435caf5cd8b774aca116~mv2.jpg"],
      ["ì˜¤ì—°ì„œ","https://static.wixstatic.com/media/abf917_aa905ed610534e73ad7a44a9b1ce1052~mv2.jpg"],
      ["ì˜¤ì—°ì„œ","https://static.wixstatic.com/media/abf917_4ad7323156c846dcb14bb9a9077bdb99~mv2.jpg"],
      ["ì˜¤ìŠ¹ìœ¤","https://static.wixstatic.com/media/abf917_9b9a8e227e38443894df712a9b1b230d~mv2.jpg"],
      ["ì˜¤ë¦¬ì˜¨","https://static.wixstatic.com/media/abf917_2d2a35307e7845c688c09216662af100~mv2.jpg"],
      ["ë°©ì„œí¬","https://static.wixstatic.com/media/abf917_2115ceaab3d241d89c29ca476608ba0f~mv2.jpg"],
      ["ì˜¤ìŠ¹ìœ¤","https://static.wixstatic.com/media/abf917_99ddb8a0b1504464a754f38e6768ede4~mv2.jpg"],
      ["ìœ¤ê²¸","https://static.wixstatic.com/media/abf917_ea7d619cc322499baf5ee81798134274~mv2.jpg"],
      ["ê¹€ì£¼ì›","https://static.wixstatic.com/media/abf917_899650ec80b74375a149a05938f606b8~mv2.jpg"],
      ["ë°•ê¸°ë²”","https://static.wixstatic.com/media/abf917_6a8e16c991ed4fd796db0a792e16af32~mv2.jpg"],
      ["ê¹€ë™ì–¸","https://static.wixstatic.com/media/abf917_5be0d8014abb47d5bb34b6fe9360d7ab~mv2.jpg"],
      ["ê¹€ê°•ë¯¼","https://static.wixstatic.com/media/abf917_f951f87d9cc44fbfbeb8699ad9bf06cd~mv2.jpg"],
      ["ê´€ì¥ë‹˜","https://static.wixstatic.com/media/abf917_1af9a88474b847608294f6494718bbb0~mv2.jpg"],
      ["ê´€ì¥ë‹˜","https://static.wixstatic.com/media/abf917_cbc95063ebb24c9eb3f91bcdbed0e686~mv2.jpg"],
      ["ê°•ì°¬í¬","https://static.wixstatic.com/media/abf917_ff8c02641a3e4f5b91ac1fe8b5fac472~mv2.jpg"],
      ["ë‹¨ì²´","https://static.wixstatic.com/media/abf917_894bca394ece4f6d900f2aafe097ae66~mv2.jpg"],
      ["ë‹¨ì²´_íƒœê¶Œê²€ë„","https://static.wixstatic.com/media/abf917_29fa533fce1c4c1bae87c48e67930c94~mv2.jpg"],
      ["ë‹¨ì²´_í’ˆìƒˆ","https://static.wixstatic.com/media/abf917_80d4ba4be03c48678a827c8325ea8747~mv2.jpg"],
      ["ë‹¨ì²´_ì™¸ë¶€","https://static.wixstatic.com/media/abf917_b2bcbb99c47a4dc0a72f5fb673d2b8b6~mv2.jpg"],
      ["ë‹¨ì²´_ìœ ì¹˜ë¶€","https://static.wixstatic.com/media/abf917_4f8c4472343a44a99aba379ee67c65da~mv2.jpg"],
      ["ë‹¨ì²´_ìœ ì¹˜ë¶€","https://static.wixstatic.com/media/abf917_4f8c4472343a44a99aba379ee67c65da~mv2.jpg"],
      ["ë‹¨ì²´_íƒœê¶Œê²€ë„","https://static.wixstatic.com/media/abf917_1c884e37bd6240e49928432d4a637854~mv2.jpg"],
      ["ë‹¨ì²´_í•™êµì²´ìœ¡","https://static.wixstatic.com/media/abf917_2a722fa6ac3347da8c6b1bf0a8ca9ff0~mv2.jpg"],
      ["ë‹¨ì²´_í•™êµì²´ìœ¡","https://static.wixstatic.com/media/abf917_1544f9919c1b45448120b2b079918224~mv2.jpg"],
      ["ë‹¨ì²´_ë§Œë“¤ê¸°","https://static.wixstatic.com/media/abf917_d50d2b126f4c469386a5cf98a3c72dfd~mv2.jpg"],
      ["ë‹¨ì²´_ì¤„ë„˜ê¸°","https://static.wixstatic.com/media/abf917_93cf0e597fae40e6a62a6b1283bf32bf~mv2.jpg"],
      ["ë‹¨ì²´_ìœ ì¹˜ë¶€","https://static.wixstatic.com/media/abf917_d8083128163c40608b2e8ef4f17ed088~mv2.jpg"],
      ["ë‹¨ì²´_ì´ˆë“±ë¶€","https://static.wixstatic.com/media/abf917_a2ec6bee671e4a878388dde54df08f38~mv2.jpg"],
      ["ë‹¨ì²´_ì´ˆë“±ë¶€","https://static.wixstatic.com/media/abf917_21bdad5617c044d28e7fcc876c610a9e~mv2.jpg"],
      ["ë‹¨ì²´_ì´ˆë“±ë¶€","https://static.wixstatic.com/media/abf917_2a777b17eb2b46f5945894b763b7ee7b~mv2.jpg"],
      ["ë‹¨ì²´_ì´ˆë“±ë¶€","https://static.wixstatic.com/media/abf917_f8343a32314f4ee09e53d51d048f931e~mv2.jpg"],
      ["ë‹¨ì²´_ì´ˆë“±ë¶€","https://static.wixstatic.com/media/abf917_863f76a0de2d4378b62b4c90e8c29651~mv2.jpg"],
      ["ë‹¨ì²´_ì´ˆë“±ë¶€","https://static.wixstatic.com/media/abf917_f3827dafacb04513a3e3c81cbc4fdf5c~mv2.jpg"],
      ["ë‹¨ì²´_í•©ìˆ™í›ˆë ¨","https://static.wixstatic.com/media/abf917_8426b33441de48aea01d4310124cb7c3~mv2.jpg"],
      ["ë‹¨ì²´_ìœ ì¹˜ë¶€","https://static.wixstatic.com/media/abf917_68b94b899e1f4eceb1bfe6e561c3f1a4~mv2.jpg"],
      ["ë‹¨ì²´_í•©ìˆ™í›ˆë ¨","https://static.wixstatic.com/media/abf917_6aaf2c7b14ca423cae18314408febd0a~mv2.jpg"],
      ["ë‹¨ì²´_ìœ ì¹˜ë¶€","https://static.wixstatic.com/media/abf917_6aaf2c7b14ca423cae18314408febd0a~mv2.jpg"],
      ["ë‹¨ì²´_ì´ˆë“±ë¶€","https://static.wixstatic.com/media/abf917_d8e6bde0ca0e46948da8a66592a048b3~mv2.jpg"],
      ["ë‹¨ì²´_ìœ ì¹˜ë¶€","https://static.wixstatic.com/media/abf917_d8e6bde0ca0e46948da8a66592a048b3~mv2.jpg"],
      ["ë°•ì •ë¯¼","https://static.wixstatic.com/media/abf917_fbc02b48f2be45288687030c4af2fba0~mv2.jpg"],
      ["ë‹¨ì²´_ìœ ì¹˜ë¶€","https://static.wixstatic.com/media/abf917_c6306929a4424c83a5212ed4dacb5dda~mv2.jpg"],
      ["ë‹¨ì²´_ê³µì¸ë‹¨ì‹¬ì‚¬","https://static.wixstatic.com/media/abf917_086249c10282432b997d08db41bb5918~mv2.jpg"],
      ["ë‹¨ì²´_ìœ ì¹˜ë¶€","https://static.wixstatic.com/media/abf917_ddb868647a5246fc9aec55eb374d6ca2~mv2.jpg"],
      ["ê¹€ì˜ˆë‹´_ì´ì„œì•ˆ","https://static.wixstatic.com/media/abf917_5e671d5f53b44fa19ef1a9a172b4ccee~mv2.jpg"],
      ["ë‹¨ì²´_íƒœê¶Œê²€ë„","https://static.wixstatic.com/media/abf917_f7c8483c66b44408b6cdbf2c1590688b~mv2.jpg"],
      ["ë‹¨ì²´_ìœ ì¹˜ë¶€","https://static.wixstatic.com/media/abf917_d373e38f4c044bab867acb84a451fb12~mv2.jpg"],
      ["ë‹¨ì²´_ìœ ì¹˜ë¶€","https://static.wixstatic.com/media/abf917_1855fe25f00343b3b4379e08a3c364bf~mv2.jpg"]
    ];

    /* ====== utils ====== */
    function toast(msg){
      const el = document.getElementById("toast");
      el.textContent = msg;
      el.style.opacity = "1";
      clearTimeout(window.__toastTimer);
      window.__toastTimer = setTimeout(()=>{ el.style.opacity="0"; }, 1500);
    }
    async function copyText(t){
      try{ await navigator.clipboard.writeText(t); toast("ë³µì‚¬ ì™„ë£Œ âœ…"); }
      catch(e){ toast("ë³µì‚¬ ì‹¤íŒ¨ ğŸ˜… ì£¼ì†Œì°½ì—ì„œ ë³µì‚¬í•´ì£¼ì„¸ìš”."); }
    }
    function norm(s){
      return String(s||"")
        .toLowerCase()
        .replace(/\s+/g,"")
        .replace(/[._\-]/g,"");
    }
    function cleanUrl(u){
      return String(u||"").replace(/\s+/g,"").trim();
    }
    function pad2(n){ return String(n).padStart(2,"0"); }

    function buildItemsFromRaw(raw){
      const cleaned = raw
        .map(([name,url])=> [String(name||"").trim(), cleanUrl(url)])
        .filter(([name,url])=> name && url);

      const totalByName = {};
      cleaned.forEach(([name])=> totalByName[name] = (totalByName[name]||0) + 1);

      const seenByName = {};
      return cleaned.map(([name,url], idx)=>{
        seenByName[name] = (seenByName[name]||0) + 1;
        const needSuffix = (totalByName[name]||0) > 1;
        const internalName = needSuffix ? `${name}${pad2(seenByName[name])}` : name;

        const parts = String(name).split("_").map(s=>s.trim()).filter(Boolean);
        const tags = Array.from(new Set([name, internalName, ...parts]));

        return { id: idx+1, name: internalName, base: name, url, tags };
      });
    }

    const ITEMS = buildItemsFromRaw(RAW_LIST);

    /* Top */
    document.getElementById("btnScrollTop").addEventListener("click", ()=>{
      window.scrollTo({top:0, behavior:"smooth"});
    });

    /* Lightbox */
    function openLightboxByUrl(url){
      const lb = document.getElementById("lb");
      const lbImg = document.getElementById("lbImg");
      const lbTitle = document.getElementById("lbTitle");
      const lbSub = document.getElementById("lbSub");
      const lbDownload = document.getElementById("lbDownload");

      lbImg.src = url;
      lbTitle.textContent = "ì‚¬ì§„";
      lbSub.textContent = "";
      lbDownload.href = url;

      lb.classList.add("show");
      lb.setAttribute("aria-hidden","false");
      document.body.style.overflow="hidden";
      window.__lbUrl = url;
    }
    function closeLightbox(){
      const lb = document.getElementById("lb");
      lb.classList.remove("show");
      lb.setAttribute("aria-hidden","true");
      document.body.style.overflow="";
      document.getElementById("lbImg").src = "";
      window.__lbUrl = "";
    }
    document.getElementById("lbClose").addEventListener("click", closeLightbox);
    document.getElementById("lbCopy").addEventListener("click", ()=> copyText(window.__lbUrl||""));
    document.getElementById("lb").addEventListener("click", (e)=>{ if(e.target.id==="lb") closeLightbox(); });
    window.addEventListener("keydown", (e)=>{ if(document.getElementById("lb").classList.contains("show") && e.key==="Escape") closeLightbox(); });

    /* ===========================
      (1) ê²€ìƒ‰ ê²°ê³¼ ìºëŸ¬ì…€
    =========================== */
    const q = document.getElementById("q");
    const btnClear = document.getElementById("btnClear");
    const btnSearch = document.getElementById("btnSearch");
    const btnShowAll = document.getElementById("btnShowAll");
    const resultArea = document.getElementById("resultArea");
    const emptyArea = document.getElementById("emptyArea");
    const resultTitle = document.getElementById("resultTitle");
    const resultMeta = document.getElementById("resultMeta");
    const pagesEl = document.getElementById("pages");
    const dotsRow = document.getElementById("dotsRow");
    const btnCopyQueryLink = document.getElementById("btnCopyQueryLink");

    function matchItem(item, query){
      const nq = norm(query);
      if(!nq) return true;
      const nname = norm(item.name);
      const nbase = norm(item.base);
      const ntags = norm((item.tags||[]).join(" "));
      return nname.includes(nq) || nbase.includes(nq) || ntags.includes(nq);
    }
    function chunk(arr, size){
      const out = [];
      for(let i=0; i<arr.length; i+=size) out.push(arr.slice(i, i+size));
      return out;
    }
    function buildDots(el, n, onClick){
      el.innerHTML = "";
      for(let i=0;i<n;i++){
        const d = document.createElement("div");
        d.className = "dot" + (i===0 ? " on" : "");
        d.addEventListener("click", ()=> onClick(i));
        el.appendChild(d);
      }
    }
    function setDotActive(el, idx){
      [...el.children].forEach((d,i)=> d.classList.toggle("on", i===idx));
    }

    function renderResultCarousel(list){
      const PER_PAGE = 12;
      const pages = chunk(list, PER_PAGE);

      pagesEl.innerHTML = pages.map((page)=> {
        const thumbs = page.map((it)=> `
          <div class="pitem" data-url="${it.url}">
            <img loading="lazy" src="${it.url}" alt="ê°¤ëŸ¬ë¦¬ ì‚¬ì§„">
          </div>
        `).join("");
        return `
          <div class="page">
            <div class="gridThumb">${thumbs}</div>
          </div>
        `;
      }).join("");

      pagesEl.querySelectorAll(".pitem").forEach(el=>{
        el.addEventListener("click", ()=>{
          const url = el.getAttribute("data-url") || "";
          openLightboxByUrl(url);
        });
      });

      buildDots(dotsRow, pages.length, (i)=>{
        const w = pagesEl.clientWidth || 1;
        pagesEl.scrollTo({ left: i*w, behavior:"smooth" });
      });

      pagesEl.onscroll = ()=>{
        const w = pagesEl.clientWidth || 1;
        const idx = Math.round(pagesEl.scrollLeft / w);
        setDotActive(dotsRow, Math.max(0, Math.min(pages.length-1, idx)));
      };

      resultTitle.textContent = "ê²€ìƒ‰ ê²°ê³¼";
      resultMeta.textContent = `ì´ ${list.length}ì¥ Â· ${pages.length}í˜ì´ì§€`;

      resultArea.style.display = "block";
      emptyArea.style.display = "none";
    }

    function runSearch(query){
      const queryText = String(query||"").trim();
      const filtered = ITEMS.filter(it=> matchItem(it, queryText));

      if(!filtered.length){
        resultArea.style.display = "none";
        emptyArea.style.display = "block";
        return;
      }
      renderResultCarousel(filtered);

      const u = new URL(location.href);
      if(queryText) u.searchParams.set("q", queryText);
      else u.searchParams.delete("q");
      history.replaceState({}, "", u.toString());
    }

    btnClear.addEventListener("click", ()=>{ q.value=""; q.focus(); runSearch(""); });
    btnSearch.addEventListener("click", ()=> runSearch(q.value));
    btnShowAll.addEventListener("click", ()=>{ q.value=""; runSearch(""); });
    q.addEventListener("keydown", (e)=>{ if(e.key==="Enter") runSearch(q.value); });

    btnCopyQueryLink.addEventListener("click", ()=> copyText(location.href));

    /* ===========================
      (2) ëŒ€í‘œ + ì¸ë„¤ì¼ ë ˆì¼(5ì¤„ í˜ì´ì§•)
    =========================== */
    const coverImg = document.getElementById("coverImg");
    const thumbCount = document.getElementById("thumbCount");
    const btnCoverPrev = document.getElementById("btnCoverPrev");
    const btnCoverNext = document.getElementById("btnCoverNext");
    const btnOpenCover = document.getElementById("btnOpenCover");
    const btnCopyCover = document.getElementById("btnCopyCover");
    const btnShuffleThumbs = document.getElementById("btnShuffleThumbs");

    const thumbPagesEl = document.getElementById("thumbPages");
    const thumbDotsEl = document.getElementById("thumbDots");
    const btnThumbPrev = document.getElementById("btnThumbPrev");
    const btnThumbNext = document.getElementById("btnThumbNext");
    const thumbMeta = document.getElementById("thumbMeta");

    // 3ì—´ * 5ì¤„ = 15ì¥
    const THUMBS_PER_PAGE = 15;

    let coverIndex = 0;
    let THUMB_ITEMS = [...ITEMS]; // ì„ê¸° ëŒ€ë¹„
    let thumbPageCount = 1;

    function setCover(idx){
      coverIndex = (idx + THUMB_ITEMS.length) % THUMB_ITEMS.length;
      coverImg.src = THUMB_ITEMS[coverIndex].url;

      // í˜„ì¬ í˜ì´ì§€ì˜ active ì²˜ë¦¬ + ì „ì²´ active ë™ê¸°
      thumbPagesEl.querySelectorAll(".titem").forEach((el)=>{
        el.classList.remove("active");
      });
      // í˜„ì¬ ì»¤ë²„ì™€ ê°™ì€ urlì¸ ì¸ë„¤ì¼ active (í˜ì´ì§€ ë„˜ì–´ê°€ ìˆìœ¼ë©´ í‘œì‹œ ì•ˆë  ìˆ˜ ìˆìŒ)
      thumbPagesEl.querySelectorAll(`.titem[data-i="${coverIndex}"]`).forEach(el=> el.classList.add("active"));
    }

    function renderThumbPager(){
      thumbCount.textContent = String(THUMB_ITEMS.length);

      const pages = chunk(THUMB_ITEMS, THUMBS_PER_PAGE);
      thumbPageCount = pages.length;

      thumbPagesEl.innerHTML = pages.map((page, pi)=>{
        const tiles = page.map((it)=>{
          return `
            <div class="titem" data-i="${it._globalIndex}" title="ì¸ë„¤ì¼">
              <img loading="lazy" src="${it.url}" alt="thumb">
            </div>
          `;
        }).join("");

        return `
          <div class="thumbPage" data-page="${pi}">
            <div class="thumbGrid">${tiles}</div>
          </div>
        `;
      }).join("");

      // dot
      buildDots(thumbDotsEl, thumbPageCount, (i)=>{
        const w = thumbPagesEl.clientWidth || 1;
        thumbPagesEl.scrollTo({ left: i*w, behavior:"smooth" });
      });

      // í´ë¦­ ì´ë²¤íŠ¸(ì „ì—­ ì¸ë±ìŠ¤)
      thumbPagesEl.querySelectorAll(".titem").forEach(el=>{
        el.addEventListener("click", ()=>{
          const i = Number(el.getAttribute("data-i"));
          setCover(i);
        });
      });

      // í˜ì´ì§€ ë©”íƒ€ + dot ì—°ë™
      function updateThumbPagerUI(){
        const w = thumbPagesEl.clientWidth || 1;
        const pi = Math.round(thumbPagesEl.scrollLeft / w);
        const clamped = Math.max(0, Math.min(thumbPageCount-1, pi));
        setDotActive(thumbDotsEl, clamped);
        thumbMeta.textContent = `${clamped+1}/${thumbPageCount}`;
      }
      thumbPagesEl.onscroll = updateThumbPagerUI;
      updateThumbPagerUI();

      // ì»¤ë²„ê°€ 0ì´ë©´ 0ë²ˆ ì¸ë„¤ì¼ active í‘œì‹œ
      setCover(coverIndex);
    }

    // THUMB_ITEMSì— ì „ì—­ ì¸ë±ìŠ¤ ë¶€ì—¬(ì„ê¸° í›„ì—ë„ ì¸ë±ìŠ¤ í†µì¼)
    function reindexThumbItems(){
      THUMB_ITEMS = THUMB_ITEMS.map((it, idx)=> ({...it, _globalIndex: idx}));
    }

    btnThumbPrev.addEventListener("click", ()=>{
      const w = thumbPagesEl.clientWidth || 1;
      const pi = Math.round(thumbPagesEl.scrollLeft / w);
      const target = Math.max(0, pi-1);
      thumbPagesEl.scrollTo({ left: target*w, behavior:"smooth" });
    });
    btnThumbNext.addEventListener("click", ()=>{
      const w = thumbPagesEl.clientWidth || 1;
      const pi = Math.round(thumbPagesEl.scrollLeft / w);
      const target = Math.min(thumbPageCount-1, pi+1);
      thumbPagesEl.scrollTo({ left: target*w, behavior:"smooth" });
    });

    btnCoverPrev.addEventListener("click", ()=> setCover(coverIndex-1));
    btnCoverNext.addEventListener("click", ()=> setCover(coverIndex+1));
    btnOpenCover.addEventListener("click", ()=> openLightboxByUrl(THUMB_ITEMS[coverIndex].url));
    btnCopyCover.addEventListener("click", ()=> copyText(THUMB_ITEMS[coverIndex].url));

    btnShuffleThumbs.addEventListener("click", ()=>{
      // shuffle
      const shuffled = [...THUMB_ITEMS];
      for(let i=shuffled.length-1; i>0; i--){
        const j = Math.floor(Math.random()*(i+1));
        [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
      }
      THUMB_ITEMS = shuffled;
      reindexThumbItems();
      coverIndex = 0;
      renderThumbPager();
      coverImg.src = THUMB_ITEMS[0].url;
      toast("ì¸ë„¤ì¼ì„ ì„ì—ˆìŠµë‹ˆë‹¤ ğŸ²");
    });

    /* ===========================
      (3) ìŠ¬ë¼ì´ë“œ ì‡¼(ì´ë¦„ ë…¸ì¶œ ê¸ˆì§€)
    =========================== */
    const slideTitle = document.getElementById("slideTitle");
    const slideSub = document.getElementById("slideSub");
    const imgA = document.getElementById("slideImgA");
    const imgB = document.getElementById("slideImgB");
    const btnPrev = document.getElementById("btnPrev");
    const btnNext = document.getElementById("btnNext");
    const btnPlay = document.getElementById("btnPlay");
    const btnPause = document.getElementById("btnPause");
    const btnSpeed = document.getElementById("btnSpeed");
    const btnOpenSlide = document.getElementById("btnOpenSlide");
    const btnCopySlide = document.getElementById("btnCopySlide");
    const navPrev = document.getElementById("navPrev");
    const navNext = document.getElementById("navNext");

    let slideIndex = 0;
    let showingA = true;
    let timer = null;
    const speeds = [3000, 4000, 6000, 8000];
    let speedIdx = 1;

    function setSlide(idx){
      slideIndex = (idx + ITEMS.length) % ITEMS.length;
      const it = ITEMS[slideIndex];

      slideTitle.textContent = `ì‚¬ì§„ ${slideIndex+1}`;
      slideSub.textContent = `${slideIndex+1}/${ITEMS.length}`;

      const target = showingA ? imgA : imgB;
      const other  = showingA ? imgB : imgA;

      target.src = it.url;
      target.classList.add("show");
      other.classList.remove("show");

      showingA = !showingA;
    }

    function play(){
      if(timer) return;
      timer = setInterval(()=> setSlide(slideIndex+1), speeds[speedIdx]);
      toast("ìë™ì¬ìƒ ì‹œì‘ â–¶");
    }
    function pause(){
      clearInterval(timer);
      timer = null;
      toast("ìë™ì¬ìƒ ì •ì§€ â¸");
    }
    function toggleSpeed(){
      speedIdx = (speedIdx + 1) % speeds.length;
      btnSpeed.textContent = `â± ${Math.round(speeds[speedIdx]/1000)}ì´ˆ`;
      if(timer){ pause(); play(); }
      toast("ì¬ìƒ ì†ë„ ë³€ê²½");
    }

    btnPrev.addEventListener("click", ()=> setSlide(slideIndex-1));
    btnNext.addEventListener("click", ()=> setSlide(slideIndex+1));
    navPrev.addEventListener("click", ()=> setSlide(slideIndex-1));
    navNext.addEventListener("click", ()=> setSlide(slideIndex+1));
    btnPlay.addEventListener("click", play);
    btnPause.addEventListener("click", pause);
    btnSpeed.addEventListener("click", toggleSpeed);
    btnOpenSlide.addEventListener("click", ()=> openLightboxByUrl(ITEMS[slideIndex].url));
    btnCopySlide.addEventListener("click", ()=> copyText(ITEMS[slideIndex].url));

    /* ===========================
      (4) ì˜ìƒ
    =========================== */
    const VIDEO_URLS = [
      "https://www.youtube.com/watch?v=D3kDXF-sNJA",
      "https://www.youtube.com/watch?v=wWIAPVvrnSw",
      "https://youtu.be/lUpmY5jfEIc",
      "https://youtu.be/YSWIds8fmzE"
    ];
    const CHANNEL_URL = "https://www.youtube.com/@%EA%B3%84%EB%AA%85%ED%83%9C%EA%B6%8C%EB%8F%84%EC%9A%B8%EC%82%B0/videos";

    function getYouTubeId(url){
      try{
        const u = new URL(url);
        if(u.hostname.includes("youtu.be")) return u.pathname.replace("/","");
        return u.searchParams.get("v");
      }catch(e){
        return "";
      }
    }

    const videoGrid = document.getElementById("videoGrid");

    function renderVideosShell(){
      videoGrid.innerHTML = VIDEO_URLS.map((url)=>{
        const id = getYouTubeId(url);
        return `
          <article class="video-card" data-video-url="${url}">
            <div class="video-embed">
              <iframe
                src="https://www.youtube.com/embed/${id}"
                title="ê³„ëª…íƒœê¶Œë„ ì˜ìƒ"
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                allowfullscreen></iframe>
            </div>
            <div class="video-body">
              <b class="yt-title">ì œëª© ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘â€¦</b>
              <p class="yt-meta">ì ì‹œë§Œìš” âœ…</p>
            </div>
          </article>
        `;
      }).join("");
    }

    async function fillYouTubeTitles(){
      const cards = [...videoGrid.querySelectorAll(".video-card")];
      await Promise.all(cards.map(async (card)=>{
        const url = card.getAttribute("data-video-url");
        const titleEl = card.querySelector(".yt-title");
        const metaEl = card.querySelector(".yt-meta");
        const oembed = `https://www.youtube.com/oembed?format=json&url=${encodeURIComponent(url)}`;
        try{
          const res = await fetch(oembed, { mode: "cors" });
          if(!res.ok) throw new Error("oEmbed not ok");
          const data = await res.json();
          titleEl.textContent = data.title || "ê³„ëª…íƒœê¶Œë„ ì˜ìƒ";
          metaEl.textContent = data.author_name ? `YouTube Â· ${data.author_name}` : "YouTube";
        }catch(e){
          titleEl.textContent = "ê³„ëª…íƒœê¶Œë„ ì˜ìƒ";
          metaEl.textContent = "YouTube";
        }
      }));
    }

    document.getElementById("btnMoreVideos").addEventListener("click", ()=>{
      window.open(CHANNEL_URL, "_blank", "noopener");
    });
    document.getElementById("btnCopyChannel").addEventListener("click", ()=>{
      copyText(CHANNEL_URL);
    });

    /* INIT */
    (function init(){
      // search query auto-run
      const u = new URL(location.href);
      const qq = u.searchParams.get("q");
      if(qq){
        q.value = qq;
        runSearch(qq);
      }

      // thumb pager
      reindexThumbItems();
      renderThumbPager();

      // cover init
      coverImg.src = THUMB_ITEMS[0]?.url || "";
      setCover(0);

      // slideshow init
      if(ITEMS.length){
        imgA.src = ITEMS[0].url;
        imgA.classList.add("show");
        slideTitle.textContent = "ì‚¬ì§„ 1";
        slideSub.textContent = `1/${ITEMS.length}`;
      }
      btnSpeed.textContent = `â± ${Math.round(speeds[speedIdx]/1000)}ì´ˆ`;

      // videos
      renderVideosShell();
      fillYouTubeTitles();
    })();
  </script>
</body>
</html>
